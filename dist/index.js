"use strict";var Rn=Object.create;var Z=Object.defineProperty;var Vn=Object.getOwnPropertyDescriptor;var Hn=Object.getOwnPropertyNames,Be=Object.getOwnPropertySymbols,Yn=Object.getPrototypeOf,Ze=Object.prototype.hasOwnProperty,Un=Object.prototype.propertyIsEnumerable;var Qe=(i,t,e)=>t in i?Z(i,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):i[t]=e,Dt=(i,t)=>{for(var e in t||(t={}))Ze.call(t,e)&&Qe(i,e,t[e]);if(Be)for(var e of Be(t))Un.call(t,e)&&Qe(i,e,t[e]);return i};var u=(i,t)=>()=>(t||i((t={exports:{}}).exports,t),t.exports),Ln=(i,t)=>{for(var e in t)Z(i,e,{get:t[e],enumerable:!0})},Xe=(i,t,e,s)=>{if(t&&typeof t=="object"||typeof t=="function")for(let r of Hn(t))!Ze.call(i,r)&&r!==e&&Z(i,r,{get:()=>t[r],enumerable:!(s=Vn(t,r))||s.enumerable});return i};var kt=(i,t,e)=>(e=i!=null?Rn(Yn(i)):{},Xe(t||!i||!i.__esModule?Z(e,"default",{value:i,enumerable:!0}):e,i)),Kn=i=>Xe(Z({},"__esModule",{value:!0}),i);var g=(i,t,e)=>new Promise((s,r)=>{var n=l=>{try{h(e.next(l))}catch(a){r(a)}},o=l=>{try{h(e.throw(l))}catch(a){r(a)}},h=l=>l.done?s(l.value):Promise.resolve(l.value).then(n,o);h((e=e.apply(i,t)).next())});var f=u((su,hi)=>{"use strict";var{FORCE_COLOR:Gn,NODE_DISABLE_COLORS:Wn,TERM:zn}=process.env,d={enabled:!Wn&&zn!=="dumb"&&Gn!=="0",reset:c(0,0),bold:c(1,22),dim:c(2,22),italic:c(3,23),underline:c(4,24),inverse:c(7,27),hidden:c(8,28),strikethrough:c(9,29),black:c(30,39),red:c(31,39),green:c(32,39),yellow:c(33,39),blue:c(34,39),magenta:c(35,39),cyan:c(36,39),white:c(37,39),gray:c(90,39),grey:c(90,39),bgBlack:c(40,49),bgRed:c(41,49),bgGreen:c(42,49),bgYellow:c(43,49),bgBlue:c(44,49),bgMagenta:c(45,49),bgCyan:c(46,49),bgWhite:c(47,49)};function oi(i,t){let e=0,s,r="",n="";for(;e<i.length;e++)s=i[e],r+=s.open,n+=s.close,t.includes(s.close)&&(t=t.replace(s.rgx,s.close+s.open));return r+t+n}function Bn(i,t){let e={has:i,keys:t};return e.reset=d.reset.bind(e),e.bold=d.bold.bind(e),e.dim=d.dim.bind(e),e.italic=d.italic.bind(e),e.underline=d.underline.bind(e),e.inverse=d.inverse.bind(e),e.hidden=d.hidden.bind(e),e.strikethrough=d.strikethrough.bind(e),e.black=d.black.bind(e),e.red=d.red.bind(e),e.green=d.green.bind(e),e.yellow=d.yellow.bind(e),e.blue=d.blue.bind(e),e.magenta=d.magenta.bind(e),e.cyan=d.cyan.bind(e),e.white=d.white.bind(e),e.gray=d.gray.bind(e),e.grey=d.grey.bind(e),e.bgBlack=d.bgBlack.bind(e),e.bgRed=d.bgRed.bind(e),e.bgGreen=d.bgGreen.bind(e),e.bgYellow=d.bgYellow.bind(e),e.bgBlue=d.bgBlue.bind(e),e.bgMagenta=d.bgMagenta.bind(e),e.bgCyan=d.bgCyan.bind(e),e.bgWhite=d.bgWhite.bind(e),e}function c(i,t){let e={open:`\x1B[${i}m`,close:`\x1B[${t}m`,rgx:new RegExp(`\\x1b\\[${t}m`,"g")};return function(s){return this!==void 0&&this.has!==void 0?(this.has.includes(i)||(this.has.push(i),this.keys.push(e)),s===void 0?this:d.enabled?oi(this.keys,s+""):s+""):s===void 0?Bn([i],[e]):d.enabled?oi([e],s+""):s+""}}hi.exports=d});var ui=u((ru,li)=>{"use strict";li.exports=(i,t)=>{if(!(i.meta&&i.name!=="escape")){if(i.ctrl){if(i.name==="a")return"first";if(i.name==="c"||i.name==="d")return"abort";if(i.name==="e")return"last";if(i.name==="g")return"reset"}if(t){if(i.name==="j")return"down";if(i.name==="k")return"up"}return i.name==="return"||i.name==="enter"?"submit":i.name==="backspace"?"delete":i.name==="delete"?"deleteForward":i.name==="abort"?"abort":i.name==="escape"?"exit":i.name==="tab"?"next":i.name==="pagedown"?"nextPage":i.name==="pageup"?"prevPage":i.name==="home"?"home":i.name==="end"?"end":i.name==="up"?"up":i.name==="down"?"down":i.name==="right"?"right":i.name==="left"?"left":!1}}});var gt=u((nu,ai)=>{"use strict";ai.exports=i=>{let t=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PRZcf-ntqry=><~]))"].join("|"),e=new RegExp(t,"g");return typeof i=="string"?i.replace(e,""):i}});var m=u((ou,di)=>{"use strict";var jt="\x1B",p=`${jt}[`,Qn="\x07",Ft={to(i,t){return t?`${p}${t+1};${i+1}H`:`${p}${i+1}G`},move(i,t){let e="";return i<0?e+=`${p}${-i}D`:i>0&&(e+=`${p}${i}C`),t<0?e+=`${p}${-t}A`:t>0&&(e+=`${p}${t}B`),e},up:(i=1)=>`${p}${i}A`,down:(i=1)=>`${p}${i}B`,forward:(i=1)=>`${p}${i}C`,backward:(i=1)=>`${p}${i}D`,nextLine:(i=1)=>`${p}E`.repeat(i),prevLine:(i=1)=>`${p}F`.repeat(i),left:`${p}G`,hide:`${p}?25l`,show:`${p}?25h`,save:`${jt}7`,restore:`${jt}8`},Zn={up:(i=1)=>`${p}S`.repeat(i),down:(i=1)=>`${p}T`.repeat(i)},Xn={screen:`${p}2J`,up:(i=1)=>`${p}1J`.repeat(i),down:(i=1)=>`${p}J`.repeat(i),line:`${p}2K`,lineEnd:`${p}K`,lineStart:`${p}1K`,lines(i){let t="";for(let e=0;e<i;e++)t+=this.line+(e<i-1?Ft.up():"");return i&&(t+=Ft.left),t}};di.exports={cursor:Ft,scroll:Zn,erase:Xn,beep:Qn}});var gi=u((hu,mi)=>{"use strict";function to(i,t){var e=typeof Symbol!="undefined"&&i[Symbol.iterator]||i["@@iterator"];if(!e){if(Array.isArray(i)||(e=eo(i))||t&&i&&typeof i.length=="number"){e&&(i=e);var s=0,r=function(){};return{s:r,n:function(){return s>=i.length?{done:!0}:{done:!1,value:i[s++]}},e:function(a){throw a},f:r}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var n=!0,o=!1,h;return{s:function(){e=e.call(i)},n:function(){var a=e.next();return n=a.done,a},e:function(a){o=!0,h=a},f:function(){try{!n&&e.return!=null&&e.return()}finally{if(o)throw h}}}}function eo(i,t){if(i){if(typeof i=="string")return ci(i,t);var e=Object.prototype.toString.call(i).slice(8,-1);if(e==="Object"&&i.constructor&&(e=i.constructor.name),e==="Map"||e==="Set")return Array.from(i);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return ci(i,t)}}function ci(i,t){(t==null||t>i.length)&&(t=i.length);for(var e=0,s=new Array(t);e<t;e++)s[e]=i[e];return s}var io=gt(),pi=m(),fi=pi.erase,so=pi.cursor,ro=i=>[...io(i)].length;mi.exports=function(i,t){if(!t)return fi.line+so.to(0);let e=0,s=i.split(/\r?\n/);var r=to(s),n;try{for(r.s();!(n=r.n()).done;){let o=n.value;e+=1+Math.floor(Math.max(ro(o)-1,0)/t)}}catch(o){r.e(o)}finally{r.f()}return fi.lines(e)}});var Nt=u((lu,vi)=>{"use strict";var tt={arrowUp:"\u2191",arrowDown:"\u2193",arrowLeft:"\u2190",arrowRight:"\u2192",radioOn:"\u25C9",radioOff:"\u25EF",tick:"\u2714",cross:"\u2716",ellipsis:"\u2026",pointerSmall:"\u203A",line:"\u2500",pointer:"\u276F"},no={arrowUp:tt.arrowUp,arrowDown:tt.arrowDown,arrowLeft:tt.arrowLeft,arrowRight:tt.arrowRight,radioOn:"(*)",radioOff:"( )",tick:"\u221A",cross:"\xD7",ellipsis:"...",pointerSmall:"\xBB",line:"\u2500",pointer:">"},oo=process.platform==="win32"?no:tt;vi.exports=oo});var wi=u((uu,bi)=>{"use strict";var J=f(),U=Nt(),Rt=Object.freeze({password:{scale:1,render:i=>"*".repeat(i.length)},emoji:{scale:2,render:i=>"\u{1F603}".repeat(i.length)},invisible:{scale:0,render:i=>""},default:{scale:1,render:i=>`${i}`}}),ho=i=>Rt[i]||Rt.default,et=Object.freeze({aborted:J.red(U.cross),done:J.green(U.tick),exited:J.yellow(U.cross),default:J.cyan("?")}),lo=(i,t,e)=>t?et.aborted:e?et.exited:i?et.done:et.default,uo=i=>J.gray(i?U.ellipsis:U.pointerSmall),ao=(i,t)=>J.gray(i?t?U.pointerSmall:"+":U.line);bi.exports={styles:Rt,render:ho,symbols:et,symbol:lo,delimiter:uo,item:ao}});var xi=u((au,yi)=>{"use strict";var co=gt();yi.exports=function(i,t){let e=String(co(i)||"").split(/\r?\n/);return t?e.map(s=>Math.ceil(s.length/t)).reduce((s,r)=>s+r):e.length}});var qi=u((du,Si)=>{"use strict";Si.exports=(i,t={})=>{let e=Number.isSafeInteger(parseInt(t.margin))?new Array(parseInt(t.margin)).fill(" ").join(""):t.margin||"",s=t.width;return(i||"").split(/\r?\n/g).map(r=>r.split(/\s+/g).reduce((n,o)=>(o.length+e.length>=s||n[n.length-1].length+o.length+1<s?n[n.length-1]+=` ${o}`:n.push(`${e}${o}`),n),[e]).join(`
`)).join(`
`)}});var Ii=u((cu,Oi)=>{"use strict";Oi.exports=(i,t,e)=>{e=e||t;let s=Math.min(t-e,i-Math.floor(e/2));s<0&&(s=0);let r=Math.min(s+e,t);return{startIndex:s,endIndex:r}}});var y=u((fu,Ti)=>{"use strict";Ti.exports={action:ui(),clear:gi(),style:wi(),strip:gt(),figures:Nt(),lines:xi(),wrap:qi(),entriesToDisplay:Ii()}});var _=u((pu,Pi)=>{"use strict";var Mi=require("readline"),fo=y(),po=fo.action,mo=require("events"),$i=m(),go=$i.beep,vo=$i.cursor,bo=f(),Vt=class extends mo{constructor(t={}){super(),this.firstRender=!0,this.in=t.stdin||process.stdin,this.out=t.stdout||process.stdout,this.onRender=(t.onRender||(()=>{})).bind(this);let e=Mi.createInterface({input:this.in,escapeCodeTimeout:50});Mi.emitKeypressEvents(this.in,e),this.in.isTTY&&this.in.setRawMode(!0);let s=["SelectPrompt","MultiselectPrompt"].indexOf(this.constructor.name)>-1,r=(n,o)=>{let h=po(o,s);h===!1?this._&&this._(n,o):typeof this[h]=="function"?this[h](o):this.bell()};this.close=()=>{this.out.write(vo.show),this.in.removeListener("keypress",r),this.in.isTTY&&this.in.setRawMode(!1),e.close(),this.emit(this.aborted?"abort":this.exited?"exit":"submit",this.value),this.closed=!0},this.in.on("keypress",r)}fire(){this.emit("state",{value:this.value,aborted:!!this.aborted,exited:!!this.exited})}bell(){this.out.write(go)}render(){this.onRender(bo),this.firstRender&&(this.firstRender=!1)}};Pi.exports=Vt});var ki=u((mu,Di)=>{"use strict";function Ci(i,t,e,s,r,n,o){try{var h=i[n](o),l=h.value}catch(a){e(a);return}h.done?t(l):Promise.resolve(l).then(s,r)}function _i(i){return function(){var t=this,e=arguments;return new Promise(function(s,r){var n=i.apply(t,e);function o(l){Ci(n,s,r,o,h,"next",l)}function h(l){Ci(n,s,r,o,h,"throw",l)}o(void 0)})}}var vt=f(),wo=_(),Ai=m(),yo=Ai.erase,it=Ai.cursor,bt=y(),Ht=bt.style,Yt=bt.clear,xo=bt.lines,So=bt.figures,Ut=class extends wo{constructor(t={}){super(t),this.transform=Ht.render(t.style),this.scale=this.transform.scale,this.msg=t.message,this.initial=t.initial||"",this.validator=t.validate||(()=>!0),this.value="",this.errorMsg=t.error||"Please Enter A Valid Value",this.cursor=+!!this.initial,this.cursorOffset=0,this.clear=Yt("",this.out.columns),this.render()}set value(t){!t&&this.initial?(this.placeholder=!0,this.rendered=vt.gray(this.transform.render(this.initial))):(this.placeholder=!1,this.rendered=this.transform.render(t)),this._value=t,this.fire()}get value(){return this._value}reset(){this.value="",this.cursor=+!!this.initial,this.cursorOffset=0,this.fire(),this.render()}exit(){this.abort()}abort(){this.value=this.value||this.initial,this.done=this.aborted=!0,this.error=!1,this.red=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}validate(){var t=this;return _i(function*(){let e=yield t.validator(t.value);typeof e=="string"&&(t.errorMsg=e,e=!1),t.error=!e})()}submit(){var t=this;return _i(function*(){if(t.value=t.value||t.initial,t.cursorOffset=0,t.cursor=t.rendered.length,yield t.validate(),t.error){t.red=!0,t.fire(),t.render();return}t.done=!0,t.aborted=!1,t.fire(),t.render(),t.out.write(`
`),t.close()})()}next(){if(!this.placeholder)return this.bell();this.value=this.initial,this.cursor=this.rendered.length,this.fire(),this.render()}moveCursor(t){this.placeholder||(this.cursor=this.cursor+t,this.cursorOffset+=t)}_(t,e){let s=this.value.slice(0,this.cursor),r=this.value.slice(this.cursor);this.value=`${s}${t}${r}`,this.red=!1,this.cursor=this.placeholder?0:s.length+1,this.render()}delete(){if(this.isCursorAtStart())return this.bell();let t=this.value.slice(0,this.cursor-1),e=this.value.slice(this.cursor);this.value=`${t}${e}`,this.red=!1,this.isCursorAtStart()?this.cursorOffset=0:(this.cursorOffset++,this.moveCursor(-1)),this.render()}deleteForward(){if(this.cursor*this.scale>=this.rendered.length||this.placeholder)return this.bell();let t=this.value.slice(0,this.cursor),e=this.value.slice(this.cursor+1);this.value=`${t}${e}`,this.red=!1,this.isCursorAtEnd()?this.cursorOffset=0:this.cursorOffset++,this.render()}first(){this.cursor=0,this.render()}last(){this.cursor=this.value.length,this.render()}left(){if(this.cursor<=0||this.placeholder)return this.bell();this.moveCursor(-1),this.render()}right(){if(this.cursor*this.scale>=this.rendered.length||this.placeholder)return this.bell();this.moveCursor(1),this.render()}isCursorAtStart(){return this.cursor===0||this.placeholder&&this.cursor===1}isCursorAtEnd(){return this.cursor===this.rendered.length||this.placeholder&&this.cursor===this.rendered.length+1}render(){this.closed||(this.firstRender||(this.outputError&&this.out.write(it.down(xo(this.outputError,this.out.columns)-1)+Yt(this.outputError,this.out.columns)),this.out.write(Yt(this.outputText,this.out.columns))),super.render(),this.outputError="",this.outputText=[Ht.symbol(this.done,this.aborted),vt.bold(this.msg),Ht.delimiter(this.done),this.red?vt.red(this.rendered):this.rendered].join(" "),this.error&&(this.outputError+=this.errorMsg.split(`
`).reduce((t,e,s)=>t+`
${s?" ":So.pointerSmall} ${vt.red().italic(e)}`,"")),this.out.write(yo.line+it.to(0)+this.outputText+it.save+this.outputError+it.restore+it.move(this.cursorOffset,0)))}};Di.exports=Ut});var Ni=u((gu,Fi)=>{"use strict";var A=f(),qo=_(),st=y(),Ei=st.style,ji=st.clear,wt=st.figures,Oo=st.wrap,Io=st.entriesToDisplay,To=m(),Mo=To.cursor,Lt=class extends qo{constructor(t={}){super(t),this.msg=t.message,this.hint=t.hint||"- Use arrow-keys. Return to submit.",this.warn=t.warn||"- This option is disabled",this.cursor=t.initial||0,this.choices=t.choices.map((e,s)=>(typeof e=="string"&&(e={title:e,value:s}),{title:e&&(e.title||e.value||e),value:e&&(e.value===void 0?s:e.value),description:e&&e.description,selected:e&&e.selected,disabled:e&&e.disabled})),this.optionsPerPage=t.optionsPerPage||10,this.value=(this.choices[this.cursor]||{}).value,this.clear=ji("",this.out.columns),this.render()}moveCursor(t){this.cursor=t,this.value=this.choices[t].value,this.fire()}reset(){this.moveCursor(0),this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.selection.disabled?this.bell():(this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close())}first(){this.moveCursor(0),this.render()}last(){this.moveCursor(this.choices.length-1),this.render()}up(){this.cursor===0?this.moveCursor(this.choices.length-1):this.moveCursor(this.cursor-1),this.render()}down(){this.cursor===this.choices.length-1?this.moveCursor(0):this.moveCursor(this.cursor+1),this.render()}next(){this.moveCursor((this.cursor+1)%this.choices.length),this.render()}_(t,e){if(t===" ")return this.submit()}get selection(){return this.choices[this.cursor]}render(){if(this.closed)return;this.firstRender?this.out.write(Mo.hide):this.out.write(ji(this.outputText,this.out.columns)),super.render();let t=Io(this.cursor,this.choices.length,this.optionsPerPage),e=t.startIndex,s=t.endIndex;if(this.outputText=[Ei.symbol(this.done,this.aborted),A.bold(this.msg),Ei.delimiter(!1),this.done?this.selection.title:this.selection.disabled?A.yellow(this.warn):A.gray(this.hint)].join(" "),!this.done){this.outputText+=`
`;for(let r=e;r<s;r++){let n,o,h="",l=this.choices[r];r===e&&e>0?o=wt.arrowUp:r===s-1&&s<this.choices.length?o=wt.arrowDown:o=" ",l.disabled?(n=this.cursor===r?A.gray().underline(l.title):A.strikethrough().gray(l.title),o=(this.cursor===r?A.bold().gray(wt.pointer)+" ":"  ")+o):(n=this.cursor===r?A.cyan().underline(l.title):l.title,o=(this.cursor===r?A.cyan(wt.pointer)+" ":"  ")+o,l.description&&this.cursor===r&&(h=` - ${l.description}`,(o.length+n.length+h.length>=this.out.columns||l.description.split(/\r?\n/).length>1)&&(h=`
`+Oo(l.description,{margin:3,width:this.out.columns})))),this.outputText+=`${o} ${n}${A.gray(h)}
`}}this.out.write(this.outputText)}};Fi.exports=Lt});var Li=u((vu,Ui)=>{"use strict";var yt=f(),$o=_(),Hi=y(),Ri=Hi.style,Po=Hi.clear,Yi=m(),Vi=Yi.cursor,Co=Yi.erase,Kt=class extends $o{constructor(t={}){super(t),this.msg=t.message,this.value=!!t.initial,this.active=t.active||"on",this.inactive=t.inactive||"off",this.initialValue=this.value,this.render()}reset(){this.value=this.initialValue,this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}deactivate(){if(this.value===!1)return this.bell();this.value=!1,this.render()}activate(){if(this.value===!0)return this.bell();this.value=!0,this.render()}delete(){this.deactivate()}left(){this.deactivate()}right(){this.activate()}down(){this.deactivate()}up(){this.activate()}next(){this.value=!this.value,this.fire(),this.render()}_(t,e){if(t===" ")this.value=!this.value;else if(t==="1")this.value=!0;else if(t==="0")this.value=!1;else return this.bell();this.render()}render(){this.closed||(this.firstRender?this.out.write(Vi.hide):this.out.write(Po(this.outputText,this.out.columns)),super.render(),this.outputText=[Ri.symbol(this.done,this.aborted),yt.bold(this.msg),Ri.delimiter(this.done),this.value?this.inactive:yt.cyan().underline(this.inactive),yt.gray("/"),this.value?yt.cyan().underline(this.active):this.active].join(" "),this.out.write(Co.line+Vi.to(0)+this.outputText))}};Ui.exports=Kt});var O=u((bu,Ki)=>{"use strict";var Jt=class i{constructor({token:t,date:e,parts:s,locales:r}){this.token=t,this.date=e||new Date,this.parts=s||[this],this.locales=r||{}}up(){}down(){}next(){let t=this.parts.indexOf(this);return this.parts.find((e,s)=>s>t&&e instanceof i)}setTo(t){}prev(){let t=[].concat(this.parts).reverse(),e=t.indexOf(this);return t.find((s,r)=>r>e&&s instanceof i)}toString(){return String(this.date)}};Ki.exports=Jt});var Gi=u((wu,Ji)=>{"use strict";var _o=O(),Gt=class extends _o{constructor(t={}){super(t)}up(){this.date.setHours((this.date.getHours()+12)%24)}down(){this.up()}toString(){let t=this.date.getHours()>12?"pm":"am";return/\A/.test(this.token)?t.toUpperCase():t}};Ji.exports=Gt});var zi=u((yu,Wi)=>{"use strict";var Ao=O(),Do=i=>(i=i%10,i===1?"st":i===2?"nd":i===3?"rd":"th"),Wt=class extends Ao{constructor(t={}){super(t)}up(){this.date.setDate(this.date.getDate()+1)}down(){this.date.setDate(this.date.getDate()-1)}setTo(t){this.date.setDate(parseInt(t.substr(-2)))}toString(){let t=this.date.getDate(),e=this.date.getDay();return this.token==="DD"?String(t).padStart(2,"0"):this.token==="Do"?t+Do(t):this.token==="d"?e+1:this.token==="ddd"?this.locales.weekdaysShort[e]:this.token==="dddd"?this.locales.weekdays[e]:t}};Wi.exports=Wt});var Qi=u((xu,Bi)=>{"use strict";var ko=O(),zt=class extends ko{constructor(t={}){super(t)}up(){this.date.setHours(this.date.getHours()+1)}down(){this.date.setHours(this.date.getHours()-1)}setTo(t){this.date.setHours(parseInt(t.substr(-2)))}toString(){let t=this.date.getHours();return/h/.test(this.token)&&(t=t%12||12),this.token.length>1?String(t).padStart(2,"0"):t}};Bi.exports=zt});var Xi=u((Su,Zi)=>{"use strict";var Eo=O(),Bt=class extends Eo{constructor(t={}){super(t)}up(){this.date.setMilliseconds(this.date.getMilliseconds()+1)}down(){this.date.setMilliseconds(this.date.getMilliseconds()-1)}setTo(t){this.date.setMilliseconds(parseInt(t.substr(-this.token.length)))}toString(){return String(this.date.getMilliseconds()).padStart(4,"0").substr(0,this.token.length)}};Zi.exports=Bt});var es=u((qu,ts)=>{"use strict";var jo=O(),Qt=class extends jo{constructor(t={}){super(t)}up(){this.date.setMinutes(this.date.getMinutes()+1)}down(){this.date.setMinutes(this.date.getMinutes()-1)}setTo(t){this.date.setMinutes(parseInt(t.substr(-2)))}toString(){let t=this.date.getMinutes();return this.token.length>1?String(t).padStart(2,"0"):t}};ts.exports=Qt});var ss=u((Ou,is)=>{"use strict";var Fo=O(),Zt=class extends Fo{constructor(t={}){super(t)}up(){this.date.setMonth(this.date.getMonth()+1)}down(){this.date.setMonth(this.date.getMonth()-1)}setTo(t){t=parseInt(t.substr(-2))-1,this.date.setMonth(t<0?0:t)}toString(){let t=this.date.getMonth(),e=this.token.length;return e===2?String(t+1).padStart(2,"0"):e===3?this.locales.monthsShort[t]:e===4?this.locales.months[t]:String(t+1)}};is.exports=Zt});var ns=u((Iu,rs)=>{"use strict";var No=O(),Xt=class extends No{constructor(t={}){super(t)}up(){this.date.setSeconds(this.date.getSeconds()+1)}down(){this.date.setSeconds(this.date.getSeconds()-1)}setTo(t){this.date.setSeconds(parseInt(t.substr(-2)))}toString(){let t=this.date.getSeconds();return this.token.length>1?String(t).padStart(2,"0"):t}};rs.exports=Xt});var hs=u((Tu,os)=>{"use strict";var Ro=O(),te=class extends Ro{constructor(t={}){super(t)}up(){this.date.setFullYear(this.date.getFullYear()+1)}down(){this.date.setFullYear(this.date.getFullYear()-1)}setTo(t){this.date.setFullYear(t.substr(-4))}toString(){let t=String(this.date.getFullYear()).padStart(4,"0");return this.token.length===2?t.substr(-2):t}};os.exports=te});var us=u((Mu,ls)=>{"use strict";ls.exports={DatePart:O(),Meridiem:Gi(),Day:zi(),Hours:Qi(),Milliseconds:Xi(),Minutes:es(),Month:ss(),Seconds:ns(),Year:hs()}});var ws=u(($u,bs)=>{"use strict";function as(i,t,e,s,r,n,o){try{var h=i[n](o),l=h.value}catch(a){e(a);return}h.done?t(l):Promise.resolve(l).then(s,r)}function ds(i){return function(){var t=this,e=arguments;return new Promise(function(s,r){var n=i.apply(t,e);function o(l){as(n,s,r,o,h,"next",l)}function h(l){as(n,s,r,o,h,"throw",l)}o(void 0)})}}var ee=f(),Vo=_(),se=y(),cs=se.style,fs=se.clear,Ho=se.figures,vs=m(),Yo=vs.erase,ps=vs.cursor,D=us(),ms=D.DatePart,Uo=D.Meridiem,Lo=D.Day,Ko=D.Hours,Jo=D.Milliseconds,Go=D.Minutes,Wo=D.Month,zo=D.Seconds,Bo=D.Year,Qo=/\\(.)|"((?:\\["\\]|[^"])+)"|(D[Do]?|d{3,4}|d)|(M{1,4})|(YY(?:YY)?)|([aA])|([Hh]{1,2})|(m{1,2})|(s{1,2})|(S{1,4})|./g,gs={1:({token:i})=>i.replace(/\\(.)/g,"$1"),2:i=>new Lo(i),3:i=>new Wo(i),4:i=>new Bo(i),5:i=>new Uo(i),6:i=>new Ko(i),7:i=>new Go(i),8:i=>new zo(i),9:i=>new Jo(i)},Zo={months:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),monthsShort:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),weekdays:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),weekdaysShort:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(",")},ie=class extends Vo{constructor(t={}){super(t),this.msg=t.message,this.cursor=0,this.typed="",this.locales=Object.assign(Zo,t.locales),this._date=t.initial||new Date,this.errorMsg=t.error||"Please Enter A Valid Value",this.validator=t.validate||(()=>!0),this.mask=t.mask||"YYYY-MM-DD HH:mm:ss",this.clear=fs("",this.out.columns),this.render()}get value(){return this.date}get date(){return this._date}set date(t){t&&this._date.setTime(t.getTime())}set mask(t){let e;for(this.parts=[];e=Qo.exec(t);){let r=e.shift(),n=e.findIndex(o=>o!=null);this.parts.push(n in gs?gs[n]({token:e[n]||r,date:this.date,parts:this.parts,locales:this.locales}):e[n]||r)}let s=this.parts.reduce((r,n)=>(typeof n=="string"&&typeof r[r.length-1]=="string"?r[r.length-1]+=n:r.push(n),r),[]);this.parts.splice(0),this.parts.push(...s),this.reset()}moveCursor(t){this.typed="",this.cursor=t,this.fire()}reset(){this.moveCursor(this.parts.findIndex(t=>t instanceof ms)),this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.error=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}validate(){var t=this;return ds(function*(){let e=yield t.validator(t.value);typeof e=="string"&&(t.errorMsg=e,e=!1),t.error=!e})()}submit(){var t=this;return ds(function*(){if(yield t.validate(),t.error){t.color="red",t.fire(),t.render();return}t.done=!0,t.aborted=!1,t.fire(),t.render(),t.out.write(`
`),t.close()})()}up(){this.typed="",this.parts[this.cursor].up(),this.render()}down(){this.typed="",this.parts[this.cursor].down(),this.render()}left(){let t=this.parts[this.cursor].prev();if(t==null)return this.bell();this.moveCursor(this.parts.indexOf(t)),this.render()}right(){let t=this.parts[this.cursor].next();if(t==null)return this.bell();this.moveCursor(this.parts.indexOf(t)),this.render()}next(){let t=this.parts[this.cursor].next();this.moveCursor(t?this.parts.indexOf(t):this.parts.findIndex(e=>e instanceof ms)),this.render()}_(t){/\d/.test(t)&&(this.typed+=t,this.parts[this.cursor].setTo(this.typed),this.render())}render(){this.closed||(this.firstRender?this.out.write(ps.hide):this.out.write(fs(this.outputText,this.out.columns)),super.render(),this.outputText=[cs.symbol(this.done,this.aborted),ee.bold(this.msg),cs.delimiter(!1),this.parts.reduce((t,e,s)=>t.concat(s===this.cursor&&!this.done?ee.cyan().underline(e.toString()):e),[]).join("")].join(" "),this.error&&(this.outputText+=this.errorMsg.split(`
`).reduce((t,e,s)=>t+`
${s?" ":Ho.pointerSmall} ${ee.red().italic(e)}`,"")),this.out.write(Yo.line+ps.to(0)+this.outputText))}};bs.exports=ie});var Ts=u((Pu,Is)=>{"use strict";function ys(i,t,e,s,r,n,o){try{var h=i[n](o),l=h.value}catch(a){e(a);return}h.done?t(l):Promise.resolve(l).then(s,r)}function xs(i){return function(){var t=this,e=arguments;return new Promise(function(s,r){var n=i.apply(t,e);function o(l){ys(n,s,r,o,h,"next",l)}function h(l){ys(n,s,r,o,h,"throw",l)}o(void 0)})}}var xt=f(),Xo=_(),Os=m(),St=Os.cursor,th=Os.erase,qt=y(),re=qt.style,eh=qt.figures,Ss=qt.clear,ih=qt.lines,sh=/[0-9]/,ne=i=>i!==void 0,qs=(i,t)=>{let e=Math.pow(10,t);return Math.round(i*e)/e},oe=class extends Xo{constructor(t={}){super(t),this.transform=re.render(t.style),this.msg=t.message,this.initial=ne(t.initial)?t.initial:"",this.float=!!t.float,this.round=t.round||2,this.inc=t.increment||1,this.min=ne(t.min)?t.min:-1/0,this.max=ne(t.max)?t.max:1/0,this.errorMsg=t.error||"Please Enter A Valid Value",this.validator=t.validate||(()=>!0),this.color="cyan",this.value="",this.typed="",this.lastHit=0,this.render()}set value(t){!t&&t!==0?(this.placeholder=!0,this.rendered=xt.gray(this.transform.render(`${this.initial}`)),this._value=""):(this.placeholder=!1,this.rendered=this.transform.render(`${qs(t,this.round)}`),this._value=qs(t,this.round)),this.fire()}get value(){return this._value}parse(t){return this.float?parseFloat(t):parseInt(t)}valid(t){return t==="-"||t==="."&&this.float||sh.test(t)}reset(){this.typed="",this.value="",this.fire(),this.render()}exit(){this.abort()}abort(){let t=this.value;this.value=t!==""?t:this.initial,this.done=this.aborted=!0,this.error=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}validate(){var t=this;return xs(function*(){let e=yield t.validator(t.value);typeof e=="string"&&(t.errorMsg=e,e=!1),t.error=!e})()}submit(){var t=this;return xs(function*(){if(yield t.validate(),t.error){t.color="red",t.fire(),t.render();return}let e=t.value;t.value=e!==""?e:t.initial,t.done=!0,t.aborted=!1,t.error=!1,t.fire(),t.render(),t.out.write(`
`),t.close()})()}up(){if(this.typed="",this.value===""&&(this.value=this.min-this.inc),this.value>=this.max)return this.bell();this.value+=this.inc,this.color="cyan",this.fire(),this.render()}down(){if(this.typed="",this.value===""&&(this.value=this.min+this.inc),this.value<=this.min)return this.bell();this.value-=this.inc,this.color="cyan",this.fire(),this.render()}delete(){let t=this.value.toString();if(t.length===0)return this.bell();this.value=this.parse(t=t.slice(0,-1))||"",this.value!==""&&this.value<this.min&&(this.value=this.min),this.color="cyan",this.fire(),this.render()}next(){this.value=this.initial,this.fire(),this.render()}_(t,e){if(!this.valid(t))return this.bell();let s=Date.now();if(s-this.lastHit>1e3&&(this.typed=""),this.typed+=t,this.lastHit=s,this.color="cyan",t===".")return this.fire();this.value=Math.min(this.parse(this.typed),this.max),this.value>this.max&&(this.value=this.max),this.value<this.min&&(this.value=this.min),this.fire(),this.render()}render(){this.closed||(this.firstRender||(this.outputError&&this.out.write(St.down(ih(this.outputError,this.out.columns)-1)+Ss(this.outputError,this.out.columns)),this.out.write(Ss(this.outputText,this.out.columns))),super.render(),this.outputError="",this.outputText=[re.symbol(this.done,this.aborted),xt.bold(this.msg),re.delimiter(this.done),!this.done||!this.done&&!this.placeholder?xt[this.color]().underline(this.rendered):this.rendered].join(" "),this.error&&(this.outputError+=this.errorMsg.split(`
`).reduce((t,e,s)=>t+`
${s?" ":eh.pointerSmall} ${xt.red().italic(e)}`,"")),this.out.write(th.line+St.to(0)+this.outputText+St.save+this.outputError+St.restore))}};Is.exports=oe});var le=u((Cu,Ps)=>{"use strict";var I=f(),rh=m(),nh=rh.cursor,oh=_(),rt=y(),Ms=rt.clear,R=rt.figures,$s=rt.style,hh=rt.wrap,lh=rt.entriesToDisplay,he=class extends oh{constructor(t={}){super(t),this.msg=t.message,this.cursor=t.cursor||0,this.scrollIndex=t.cursor||0,this.hint=t.hint||"",this.warn=t.warn||"- This option is disabled -",this.minSelected=t.min,this.showMinError=!1,this.maxChoices=t.max,this.instructions=t.instructions,this.optionsPerPage=t.optionsPerPage||10,this.value=t.choices.map((e,s)=>(typeof e=="string"&&(e={title:e,value:s}),{title:e&&(e.title||e.value||e),description:e&&e.description,value:e&&(e.value===void 0?s:e.value),selected:e&&e.selected,disabled:e&&e.disabled})),this.clear=Ms("",this.out.columns),t.overrideRender||this.render()}reset(){this.value.map(t=>!t.selected),this.cursor=0,this.fire(),this.render()}selected(){return this.value.filter(t=>t.selected)}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){let t=this.value.filter(e=>e.selected);this.minSelected&&t.length<this.minSelected?(this.showMinError=!0,this.render()):(this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close())}first(){this.cursor=0,this.render()}last(){this.cursor=this.value.length-1,this.render()}next(){this.cursor=(this.cursor+1)%this.value.length,this.render()}up(){this.cursor===0?this.cursor=this.value.length-1:this.cursor--,this.render()}down(){this.cursor===this.value.length-1?this.cursor=0:this.cursor++,this.render()}left(){this.value[this.cursor].selected=!1,this.render()}right(){if(this.value.filter(t=>t.selected).length>=this.maxChoices)return this.bell();this.value[this.cursor].selected=!0,this.render()}handleSpaceToggle(){let t=this.value[this.cursor];if(t.selected)t.selected=!1,this.render();else{if(t.disabled||this.value.filter(e=>e.selected).length>=this.maxChoices)return this.bell();t.selected=!0,this.render()}}toggleAll(){if(this.maxChoices!==void 0||this.value[this.cursor].disabled)return this.bell();let t=!this.value[this.cursor].selected;this.value.filter(e=>!e.disabled).forEach(e=>e.selected=t),this.render()}_(t,e){if(t===" ")this.handleSpaceToggle();else if(t==="a")this.toggleAll();else return this.bell()}renderInstructions(){return this.instructions===void 0||this.instructions?typeof this.instructions=="string"?this.instructions:`
Instructions:
    ${R.arrowUp}/${R.arrowDown}: Highlight option
    ${R.arrowLeft}/${R.arrowRight}/[space]: Toggle selection
`+(this.maxChoices===void 0?`    a: Toggle all
`:"")+"    enter/return: Complete answer":""}renderOption(t,e,s,r){let n=(e.selected?I.green(R.radioOn):R.radioOff)+" "+r+" ",o,h;return e.disabled?o=t===s?I.gray().underline(e.title):I.strikethrough().gray(e.title):(o=t===s?I.cyan().underline(e.title):e.title,t===s&&e.description&&(h=` - ${e.description}`,(n.length+o.length+h.length>=this.out.columns||e.description.split(/\r?\n/).length>1)&&(h=`
`+hh(e.description,{margin:n.length,width:this.out.columns})))),n+o+I.gray(h||"")}paginateOptions(t){if(t.length===0)return I.red("No matches for this query.");let e=lh(this.cursor,t.length,this.optionsPerPage),s=e.startIndex,r=e.endIndex,n,o=[];for(let h=s;h<r;h++)h===s&&s>0?n=R.arrowUp:h===r-1&&r<t.length?n=R.arrowDown:n=" ",o.push(this.renderOption(this.cursor,t[h],h,n));return`
`+o.join(`
`)}renderOptions(t){return this.done?"":this.paginateOptions(t)}renderDoneOrInstructions(){if(this.done)return this.value.filter(e=>e.selected).map(e=>e.title).join(", ");let t=[I.gray(this.hint),this.renderInstructions()];return this.value[this.cursor].disabled&&t.push(I.yellow(this.warn)),t.join(" ")}render(){if(this.closed)return;this.firstRender&&this.out.write(nh.hide),super.render();let t=[$s.symbol(this.done,this.aborted),I.bold(this.msg),$s.delimiter(!1),this.renderDoneOrInstructions()].join(" ");this.showMinError&&(t+=I.red(`You must select a minimum of ${this.minSelected} choices.`),this.showMinError=!1),t+=this.renderOptions(this.value),this.out.write(this.clear+t),this.clear=Ms(t,this.out.columns)}};Ps.exports=he});var js=u((_u,Es)=>{"use strict";function Cs(i,t,e,s,r,n,o){try{var h=i[n](o),l=h.value}catch(a){e(a);return}h.done?t(l):Promise.resolve(l).then(s,r)}function uh(i){return function(){var t=this,e=arguments;return new Promise(function(s,r){var n=i.apply(t,e);function o(l){Cs(n,s,r,o,h,"next",l)}function h(l){Cs(n,s,r,o,h,"throw",l)}o(void 0)})}}var nt=f(),ah=_(),ks=m(),dh=ks.erase,_s=ks.cursor,ot=y(),ue=ot.style,As=ot.clear,ae=ot.figures,ch=ot.wrap,fh=ot.entriesToDisplay,Ds=(i,t)=>i[t]&&(i[t].value||i[t].title||i[t]),ph=(i,t)=>i[t]&&(i[t].title||i[t].value||i[t]),mh=(i,t)=>{let e=i.findIndex(s=>s.value===t||s.title===t);return e>-1?e:void 0},de=class extends ah{constructor(t={}){super(t),this.msg=t.message,this.suggest=t.suggest,this.choices=t.choices,this.initial=typeof t.initial=="number"?t.initial:mh(t.choices,t.initial),this.select=this.initial||t.cursor||0,this.i18n={noMatches:t.noMatches||"no matches found"},this.fallback=t.fallback||this.initial,this.clearFirst=t.clearFirst||!1,this.suggestions=[],this.input="",this.limit=t.limit||10,this.cursor=0,this.transform=ue.render(t.style),this.scale=this.transform.scale,this.render=this.render.bind(this),this.complete=this.complete.bind(this),this.clear=As("",this.out.columns),this.complete(this.render),this.render()}set fallback(t){this._fb=Number.isSafeInteger(parseInt(t))?parseInt(t):t}get fallback(){let t;return typeof this._fb=="number"?t=this.choices[this._fb]:typeof this._fb=="string"&&(t={title:this._fb}),t||this._fb||{title:this.i18n.noMatches}}moveSelect(t){this.select=t,this.suggestions.length>0?this.value=Ds(this.suggestions,t):this.value=this.fallback.value,this.fire()}complete(t){var e=this;return uh(function*(){let s=e.completing=e.suggest(e.input,e.choices),r=yield s;if(e.completing!==s)return;e.suggestions=r.map((o,h,l)=>({title:ph(l,h),value:Ds(l,h),description:o.description})),e.completing=!1;let n=Math.max(r.length-1,0);e.moveSelect(Math.min(n,e.select)),t&&t()})()}reset(){this.input="",this.complete(()=>{this.moveSelect(this.initial!==void 0?this.initial:0),this.render()}),this.render()}exit(){this.clearFirst&&this.input.length>0?this.reset():(this.done=this.exited=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close())}abort(){this.done=this.aborted=!0,this.exited=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.done=!0,this.aborted=this.exited=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}_(t,e){let s=this.input.slice(0,this.cursor),r=this.input.slice(this.cursor);this.input=`${s}${t}${r}`,this.cursor=s.length+1,this.complete(this.render),this.render()}delete(){if(this.cursor===0)return this.bell();let t=this.input.slice(0,this.cursor-1),e=this.input.slice(this.cursor);this.input=`${t}${e}`,this.complete(this.render),this.cursor=this.cursor-1,this.render()}deleteForward(){if(this.cursor*this.scale>=this.rendered.length)return this.bell();let t=this.input.slice(0,this.cursor),e=this.input.slice(this.cursor+1);this.input=`${t}${e}`,this.complete(this.render),this.render()}first(){this.moveSelect(0),this.render()}last(){this.moveSelect(this.suggestions.length-1),this.render()}up(){this.select===0?this.moveSelect(this.suggestions.length-1):this.moveSelect(this.select-1),this.render()}down(){this.select===this.suggestions.length-1?this.moveSelect(0):this.moveSelect(this.select+1),this.render()}next(){this.select===this.suggestions.length-1?this.moveSelect(0):this.moveSelect(this.select+1),this.render()}nextPage(){this.moveSelect(Math.min(this.select+this.limit,this.suggestions.length-1)),this.render()}prevPage(){this.moveSelect(Math.max(this.select-this.limit,0)),this.render()}left(){if(this.cursor<=0)return this.bell();this.cursor=this.cursor-1,this.render()}right(){if(this.cursor*this.scale>=this.rendered.length)return this.bell();this.cursor=this.cursor+1,this.render()}renderOption(t,e,s,r){let n,o=s?ae.arrowUp:r?ae.arrowDown:" ",h=e?nt.cyan().underline(t.title):t.title;return o=(e?nt.cyan(ae.pointer)+" ":"  ")+o,t.description&&(n=` - ${t.description}`,(o.length+h.length+n.length>=this.out.columns||t.description.split(/\r?\n/).length>1)&&(n=`
`+ch(t.description,{margin:3,width:this.out.columns}))),o+" "+h+nt.gray(n||"")}render(){if(this.closed)return;this.firstRender?this.out.write(_s.hide):this.out.write(As(this.outputText,this.out.columns)),super.render();let t=fh(this.select,this.choices.length,this.limit),e=t.startIndex,s=t.endIndex;if(this.outputText=[ue.symbol(this.done,this.aborted,this.exited),nt.bold(this.msg),ue.delimiter(this.completing),this.done&&this.suggestions[this.select]?this.suggestions[this.select].title:this.rendered=this.transform.render(this.input)].join(" "),!this.done){let r=this.suggestions.slice(e,s).map((n,o)=>this.renderOption(n,this.select===o+e,o===0&&e>0,o+e===s-1&&s<this.choices.length)).join(`
`);this.outputText+=`
`+(r||nt.gray(this.fallback.title))}this.out.write(dh.line+_s.to(0)+this.outputText)}};Es.exports=de});var Vs=u((Au,Rs)=>{"use strict";var k=f(),gh=m(),vh=gh.cursor,bh=le(),fe=y(),Fs=fe.clear,Ns=fe.style,G=fe.figures,ce=class extends bh{constructor(t={}){t.overrideRender=!0,super(t),this.inputValue="",this.clear=Fs("",this.out.columns),this.filteredOptions=this.value,this.render()}last(){this.cursor=this.filteredOptions.length-1,this.render()}next(){this.cursor=(this.cursor+1)%this.filteredOptions.length,this.render()}up(){this.cursor===0?this.cursor=this.filteredOptions.length-1:this.cursor--,this.render()}down(){this.cursor===this.filteredOptions.length-1?this.cursor=0:this.cursor++,this.render()}left(){this.filteredOptions[this.cursor].selected=!1,this.render()}right(){if(this.value.filter(t=>t.selected).length>=this.maxChoices)return this.bell();this.filteredOptions[this.cursor].selected=!0,this.render()}delete(){this.inputValue.length&&(this.inputValue=this.inputValue.substr(0,this.inputValue.length-1),this.updateFilteredOptions())}updateFilteredOptions(){let t=this.filteredOptions[this.cursor];this.filteredOptions=this.value.filter(s=>this.inputValue?!!(typeof s.title=="string"&&s.title.toLowerCase().includes(this.inputValue.toLowerCase())||typeof s.value=="string"&&s.value.toLowerCase().includes(this.inputValue.toLowerCase())):!0);let e=this.filteredOptions.findIndex(s=>s===t);this.cursor=e<0?0:e,this.render()}handleSpaceToggle(){let t=this.filteredOptions[this.cursor];if(t.selected)t.selected=!1,this.render();else{if(t.disabled||this.value.filter(e=>e.selected).length>=this.maxChoices)return this.bell();t.selected=!0,this.render()}}handleInputChange(t){this.inputValue=this.inputValue+t,this.updateFilteredOptions()}_(t,e){t===" "?this.handleSpaceToggle():this.handleInputChange(t)}renderInstructions(){return this.instructions===void 0||this.instructions?typeof this.instructions=="string"?this.instructions:`
Instructions:
    ${G.arrowUp}/${G.arrowDown}: Highlight option
    ${G.arrowLeft}/${G.arrowRight}/[space]: Toggle selection
    [a,b,c]/delete: Filter choices
    enter/return: Complete answer
`:""}renderCurrentInput(){return`
Filtered results for: ${this.inputValue?this.inputValue:k.gray("Enter something to filter")}
`}renderOption(t,e,s){let r;return e.disabled?r=t===s?k.gray().underline(e.title):k.strikethrough().gray(e.title):r=t===s?k.cyan().underline(e.title):e.title,(e.selected?k.green(G.radioOn):G.radioOff)+"  "+r}renderDoneOrInstructions(){if(this.done)return this.value.filter(e=>e.selected).map(e=>e.title).join(", ");let t=[k.gray(this.hint),this.renderInstructions(),this.renderCurrentInput()];return this.filteredOptions.length&&this.filteredOptions[this.cursor].disabled&&t.push(k.yellow(this.warn)),t.join(" ")}render(){if(this.closed)return;this.firstRender&&this.out.write(vh.hide),super.render();let t=[Ns.symbol(this.done,this.aborted),k.bold(this.msg),Ns.delimiter(!1),this.renderDoneOrInstructions()].join(" ");this.showMinError&&(t+=k.red(`You must select a minimum of ${this.minSelected} choices.`),this.showMinError=!1),t+=this.renderOptions(this.filteredOptions),this.out.write(this.clear+t),this.clear=Fs(t,this.out.columns)}};Rs.exports=ce});var Gs=u((Du,Js)=>{"use strict";var Hs=f(),wh=_(),Ls=y(),Ys=Ls.style,yh=Ls.clear,Ks=m(),xh=Ks.erase,Us=Ks.cursor,pe=class extends wh{constructor(t={}){super(t),this.msg=t.message,this.value=t.initial,this.initialValue=!!t.initial,this.yesMsg=t.yes||"yes",this.yesOption=t.yesOption||"(Y/n)",this.noMsg=t.no||"no",this.noOption=t.noOption||"(y/N)",this.render()}reset(){this.value=this.initialValue,this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.value=this.value||!1,this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}_(t,e){return t.toLowerCase()==="y"?(this.value=!0,this.submit()):t.toLowerCase()==="n"?(this.value=!1,this.submit()):this.bell()}render(){this.closed||(this.firstRender?this.out.write(Us.hide):this.out.write(yh(this.outputText,this.out.columns)),super.render(),this.outputText=[Ys.symbol(this.done,this.aborted),Hs.bold(this.msg),Ys.delimiter(this.done),this.done?this.value?this.yesMsg:this.noMsg:Hs.gray(this.initialValue?this.yesOption:this.noOption)].join(" "),this.out.write(xh.line+Us.to(0)+this.outputText))}};Js.exports=pe});var zs=u((ku,Ws)=>{"use strict";Ws.exports={TextPrompt:ki(),SelectPrompt:Ni(),TogglePrompt:Li(),DatePrompt:ws(),NumberPrompt:Ts(),MultiselectPrompt:le(),AutocompletePrompt:js(),AutocompleteMultiselectPrompt:Vs(),ConfirmPrompt:Gs()}});var Qs=u(Bs=>{"use strict";var b=Bs,Sh=zs(),Ot=i=>i;function T(i,t,e={}){return new Promise((s,r)=>{let n=new Sh[i](t),o=e.onAbort||Ot,h=e.onSubmit||Ot,l=e.onExit||Ot;n.on("state",t.onState||Ot),n.on("submit",a=>s(h(a))),n.on("exit",a=>s(l(a))),n.on("abort",a=>r(o(a)))})}b.text=i=>T("TextPrompt",i);b.password=i=>(i.style="password",b.text(i));b.invisible=i=>(i.style="invisible",b.text(i));b.number=i=>T("NumberPrompt",i);b.date=i=>T("DatePrompt",i);b.confirm=i=>T("ConfirmPrompt",i);b.list=i=>{let t=i.separator||",";return T("TextPrompt",i,{onSubmit:e=>e.split(t).map(s=>s.trim())})};b.toggle=i=>T("TogglePrompt",i);b.select=i=>T("SelectPrompt",i);b.multiselect=i=>{i.choices=[].concat(i.choices||[]);let t=e=>e.filter(s=>s.selected).map(s=>s.value);return T("MultiselectPrompt",i,{onAbort:t,onSubmit:t})};b.autocompleteMultiselect=i=>{i.choices=[].concat(i.choices||[]);let t=e=>e.filter(s=>s.selected).map(s=>s.value);return T("AutocompleteMultiselectPrompt",i,{onAbort:t,onSubmit:t})};var qh=(i,t)=>Promise.resolve(t.filter(e=>e.title.slice(0,i.length).toLowerCase()===i.toLowerCase()));b.autocomplete=i=>(i.suggest=i.suggest||qh,i.choices=[].concat(i.choices||[]),T("AutocompletePrompt",i))});var nr=u((ju,rr)=>{"use strict";function Zs(i,t){var e=Object.keys(i);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(i);t&&(s=s.filter(function(r){return Object.getOwnPropertyDescriptor(i,r).enumerable})),e.push.apply(e,s)}return e}function Xs(i){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?Zs(Object(e),!0).forEach(function(s){Oh(i,s,e[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(e)):Zs(Object(e)).forEach(function(s){Object.defineProperty(i,s,Object.getOwnPropertyDescriptor(e,s))})}return i}function Oh(i,t,e){return t in i?Object.defineProperty(i,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):i[t]=e,i}function Ih(i,t){var e=typeof Symbol!="undefined"&&i[Symbol.iterator]||i["@@iterator"];if(!e){if(Array.isArray(i)||(e=Th(i))||t&&i&&typeof i.length=="number"){e&&(i=e);var s=0,r=function(){};return{s:r,n:function(){return s>=i.length?{done:!0}:{done:!1,value:i[s++]}},e:function(a){throw a},f:r}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var n=!0,o=!1,h;return{s:function(){e=e.call(i)},n:function(){var a=e.next();return n=a.done,a},e:function(a){o=!0,h=a},f:function(){try{!n&&e.return!=null&&e.return()}finally{if(o)throw h}}}}function Th(i,t){if(i){if(typeof i=="string")return tr(i,t);var e=Object.prototype.toString.call(i).slice(8,-1);if(e==="Object"&&i.constructor&&(e=i.constructor.name),e==="Map"||e==="Set")return Array.from(i);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return tr(i,t)}}function tr(i,t){(t==null||t>i.length)&&(t=i.length);for(var e=0,s=new Array(t);e<t;e++)s[e]=i[e];return s}function er(i,t,e,s,r,n,o){try{var h=i[n](o),l=h.value}catch(a){e(a);return}h.done?t(l):Promise.resolve(l).then(s,r)}function ir(i){return function(){var t=this,e=arguments;return new Promise(function(s,r){var n=i.apply(t,e);function o(l){er(n,s,r,o,h,"next",l)}function h(l){er(n,s,r,o,h,"throw",l)}o(void 0)})}}var me=Qs(),Mh=["suggest","format","onState","validate","onRender","type"],sr=()=>{};function V(){return ge.apply(this,arguments)}function ge(){return ge=ir(function*(i=[],{onSubmit:t=sr,onCancel:e=sr}={}){let s={},r=V._override||{};i=[].concat(i);let n,o,h,l,a,B,Q=function(){var N=ir(function*(C,pt,ze=!1){if(!(!ze&&C.validate&&C.validate(pt)!==!0))return C.format?yield C.format(pt,s):pt});return function(pt,ze){return N.apply(this,arguments)}}();var v=Ih(i),S;try{for(v.s();!(S=v.n()).done;){o=S.value;var ft=o;if(l=ft.name,a=ft.type,typeof a=="function"&&(a=yield a(n,Xs({},s),o),o.type=a),!!a){for(let N in o){if(Mh.includes(N))continue;let C=o[N];o[N]=typeof C=="function"?yield C(n,Xs({},s),B):C}if(B=o,typeof o.message!="string")throw new Error("prompt message is required");var We=o;if(l=We.name,a=We.type,me[a]===void 0)throw new Error(`prompt type (${a}) is not defined`);if(r[o.name]!==void 0&&(n=yield Q(o,r[o.name]),n!==void 0)){s[l]=n;continue}try{n=V._injected?$h(V._injected,o.initial):yield me[a](o),s[l]=n=yield Q(o,n,!0),h=yield t(o,n,s)}catch(N){h=!(yield e(o,s))}if(h)return s}}}catch(N){v.e(N)}finally{v.f()}return s}),ge.apply(this,arguments)}function $h(i,t){let e=i.shift();if(e instanceof Error)throw e;return e===void 0?t:e}function Ph(i){V._injected=(V._injected||[]).concat(i)}function Ch(i){V._override=Object.assign({},i)}rr.exports=Object.assign(V,{prompt:V,prompts:me,inject:Ph,override:Ch})});var hr=u((Fu,or)=>{"use strict";or.exports=(i,t)=>{if(!(i.meta&&i.name!=="escape")){if(i.ctrl){if(i.name==="a")return"first";if(i.name==="c"||i.name==="d")return"abort";if(i.name==="e")return"last";if(i.name==="g")return"reset"}if(t){if(i.name==="j")return"down";if(i.name==="k")return"up"}return i.name==="return"||i.name==="enter"?"submit":i.name==="backspace"?"delete":i.name==="delete"?"deleteForward":i.name==="abort"?"abort":i.name==="escape"?"exit":i.name==="tab"?"next":i.name==="pagedown"?"nextPage":i.name==="pageup"?"prevPage":i.name==="home"?"home":i.name==="end"?"end":i.name==="up"?"up":i.name==="down"?"down":i.name==="right"?"right":i.name==="left"?"left":!1}}});var It=u((Nu,lr)=>{"use strict";lr.exports=i=>{let t=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PRZcf-ntqry=><~]))"].join("|"),e=new RegExp(t,"g");return typeof i=="string"?i.replace(e,""):i}});var dr=u((Ru,ar)=>{"use strict";var _h=It(),{erase:ur,cursor:Ah}=m(),Dh=i=>[..._h(i)].length;ar.exports=function(i,t){if(!t)return ur.line+Ah.to(0);let e=0,s=i.split(/\r?\n/);for(let r of s)e+=1+Math.floor(Math.max(Dh(r)-1,0)/t);return ur.lines(e)}});var ve=u((Vu,cr)=>{"use strict";var ht={arrowUp:"\u2191",arrowDown:"\u2193",arrowLeft:"\u2190",arrowRight:"\u2192",radioOn:"\u25C9",radioOff:"\u25EF",tick:"\u2714",cross:"\u2716",ellipsis:"\u2026",pointerSmall:"\u203A",line:"\u2500",pointer:"\u276F"},kh={arrowUp:ht.arrowUp,arrowDown:ht.arrowDown,arrowLeft:ht.arrowLeft,arrowRight:ht.arrowRight,radioOn:"(*)",radioOff:"( )",tick:"\u221A",cross:"\xD7",ellipsis:"...",pointerSmall:"\xBB",line:"\u2500",pointer:">"},Eh=process.platform==="win32"?kh:ht;cr.exports=Eh});var pr=u((Hu,fr)=>{"use strict";var W=f(),L=ve(),be=Object.freeze({password:{scale:1,render:i=>"*".repeat(i.length)},emoji:{scale:2,render:i=>"\u{1F603}".repeat(i.length)},invisible:{scale:0,render:i=>""},default:{scale:1,render:i=>`${i}`}}),jh=i=>be[i]||be.default,lt=Object.freeze({aborted:W.red(L.cross),done:W.green(L.tick),exited:W.yellow(L.cross),default:W.cyan("?")}),Fh=(i,t,e)=>t?lt.aborted:e?lt.exited:i?lt.done:lt.default,Nh=i=>W.gray(i?L.ellipsis:L.pointerSmall),Rh=(i,t)=>W.gray(i?t?L.pointerSmall:"+":L.line);fr.exports={styles:be,render:jh,symbols:lt,symbol:Fh,delimiter:Nh,item:Rh}});var gr=u((Yu,mr)=>{"use strict";var Vh=It();mr.exports=function(i,t){let e=String(Vh(i)||"").split(/\r?\n/);return t?e.map(s=>Math.ceil(s.length/t)).reduce((s,r)=>s+r):e.length}});var br=u((Uu,vr)=>{"use strict";vr.exports=(i,t={})=>{let e=Number.isSafeInteger(parseInt(t.margin))?new Array(parseInt(t.margin)).fill(" ").join(""):t.margin||"",s=t.width;return(i||"").split(/\r?\n/g).map(r=>r.split(/\s+/g).reduce((n,o)=>(o.length+e.length>=s||n[n.length-1].length+o.length+1<s?n[n.length-1]+=` ${o}`:n.push(`${e}${o}`),n),[e]).join(`
`)).join(`
`)}});var yr=u((Lu,wr)=>{"use strict";wr.exports=(i,t,e)=>{e=e||t;let s=Math.min(t-e,i-Math.floor(e/2));s<0&&(s=0);let r=Math.min(s+e,t);return{startIndex:s,endIndex:r}}});var x=u((Ku,xr)=>{"use strict";xr.exports={action:hr(),clear:dr(),style:pr(),strip:It(),figures:ve(),lines:gr(),wrap:br(),entriesToDisplay:yr()}});var E=u((Ju,qr)=>{"use strict";var Sr=require("readline"),{action:Hh}=x(),Yh=require("events"),{beep:Uh,cursor:Lh}=m(),Kh=f(),we=class extends Yh{constructor(t={}){super(),this.firstRender=!0,this.in=t.stdin||process.stdin,this.out=t.stdout||process.stdout,this.onRender=(t.onRender||(()=>{})).bind(this);let e=Sr.createInterface({input:this.in,escapeCodeTimeout:50});Sr.emitKeypressEvents(this.in,e),this.in.isTTY&&this.in.setRawMode(!0);let s=["SelectPrompt","MultiselectPrompt"].indexOf(this.constructor.name)>-1,r=(n,o)=>{let h=Hh(o,s);h===!1?this._&&this._(n,o):typeof this[h]=="function"?this[h](o):this.bell()};this.close=()=>{this.out.write(Lh.show),this.in.removeListener("keypress",r),this.in.isTTY&&this.in.setRawMode(!1),e.close(),this.emit(this.aborted?"abort":this.exited?"exit":"submit",this.value),this.closed=!0},this.in.on("keypress",r)}fire(){this.emit("state",{value:this.value,aborted:!!this.aborted,exited:!!this.exited})}bell(){this.out.write(Uh)}render(){this.onRender(Kh),this.firstRender&&(this.firstRender=!1)}};qr.exports=we});var Ir=u((Gu,Or)=>{"use strict";var Tt=f(),Jh=E(),{erase:Gh,cursor:ut}=m(),{style:ye,clear:xe,lines:Wh,figures:zh}=x(),Se=class extends Jh{constructor(t={}){super(t),this.transform=ye.render(t.style),this.scale=this.transform.scale,this.msg=t.message,this.initial=t.initial||"",this.validator=t.validate||(()=>!0),this.value="",this.errorMsg=t.error||"Please Enter A Valid Value",this.cursor=+!!this.initial,this.cursorOffset=0,this.clear=xe("",this.out.columns),this.render()}set value(t){!t&&this.initial?(this.placeholder=!0,this.rendered=Tt.gray(this.transform.render(this.initial))):(this.placeholder=!1,this.rendered=this.transform.render(t)),this._value=t,this.fire()}get value(){return this._value}reset(){this.value="",this.cursor=+!!this.initial,this.cursorOffset=0,this.fire(),this.render()}exit(){this.abort()}abort(){this.value=this.value||this.initial,this.done=this.aborted=!0,this.error=!1,this.red=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}validate(){return g(this,null,function*(){let t=yield this.validator(this.value);typeof t=="string"&&(this.errorMsg=t,t=!1),this.error=!t})}submit(){return g(this,null,function*(){if(this.value=this.value||this.initial,this.cursorOffset=0,this.cursor=this.rendered.length,yield this.validate(),this.error){this.red=!0,this.fire(),this.render();return}this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close()})}next(){if(!this.placeholder)return this.bell();this.value=this.initial,this.cursor=this.rendered.length,this.fire(),this.render()}moveCursor(t){this.placeholder||(this.cursor=this.cursor+t,this.cursorOffset+=t)}_(t,e){let s=this.value.slice(0,this.cursor),r=this.value.slice(this.cursor);this.value=`${s}${t}${r}`,this.red=!1,this.cursor=this.placeholder?0:s.length+1,this.render()}delete(){if(this.isCursorAtStart())return this.bell();let t=this.value.slice(0,this.cursor-1),e=this.value.slice(this.cursor);this.value=`${t}${e}`,this.red=!1,this.isCursorAtStart()?this.cursorOffset=0:(this.cursorOffset++,this.moveCursor(-1)),this.render()}deleteForward(){if(this.cursor*this.scale>=this.rendered.length||this.placeholder)return this.bell();let t=this.value.slice(0,this.cursor),e=this.value.slice(this.cursor+1);this.value=`${t}${e}`,this.red=!1,this.isCursorAtEnd()?this.cursorOffset=0:this.cursorOffset++,this.render()}first(){this.cursor=0,this.render()}last(){this.cursor=this.value.length,this.render()}left(){if(this.cursor<=0||this.placeholder)return this.bell();this.moveCursor(-1),this.render()}right(){if(this.cursor*this.scale>=this.rendered.length||this.placeholder)return this.bell();this.moveCursor(1),this.render()}isCursorAtStart(){return this.cursor===0||this.placeholder&&this.cursor===1}isCursorAtEnd(){return this.cursor===this.rendered.length||this.placeholder&&this.cursor===this.rendered.length+1}render(){this.closed||(this.firstRender||(this.outputError&&this.out.write(ut.down(Wh(this.outputError,this.out.columns)-1)+xe(this.outputError,this.out.columns)),this.out.write(xe(this.outputText,this.out.columns))),super.render(),this.outputError="",this.outputText=[ye.symbol(this.done,this.aborted),Tt.bold(this.msg),ye.delimiter(this.done),this.red?Tt.red(this.rendered):this.rendered].join(" "),this.error&&(this.outputError+=this.errorMsg.split(`
`).reduce((t,e,s)=>t+`
${s?" ":zh.pointerSmall} ${Tt.red().italic(e)}`,"")),this.out.write(Gh.line+ut.to(0)+this.outputText+ut.save+this.outputError+ut.restore+ut.move(this.cursorOffset,0)))}};Or.exports=Se});var Pr=u((zu,$r)=>{"use strict";var j=f(),Bh=E(),{style:Tr,clear:Mr,figures:Mt,wrap:Qh,entriesToDisplay:Zh}=x(),{cursor:Xh}=m(),qe=class extends Bh{constructor(t={}){super(t),this.msg=t.message,this.hint=t.hint||"- Use arrow-keys. Return to submit.",this.warn=t.warn||"- This option is disabled",this.cursor=t.initial||0,this.choices=t.choices.map((e,s)=>(typeof e=="string"&&(e={title:e,value:s}),{title:e&&(e.title||e.value||e),value:e&&(e.value===void 0?s:e.value),description:e&&e.description,selected:e&&e.selected,disabled:e&&e.disabled})),this.optionsPerPage=t.optionsPerPage||10,this.value=(this.choices[this.cursor]||{}).value,this.clear=Mr("",this.out.columns),this.render()}moveCursor(t){this.cursor=t,this.value=this.choices[t].value,this.fire()}reset(){this.moveCursor(0),this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.selection.disabled?this.bell():(this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close())}first(){this.moveCursor(0),this.render()}last(){this.moveCursor(this.choices.length-1),this.render()}up(){this.cursor===0?this.moveCursor(this.choices.length-1):this.moveCursor(this.cursor-1),this.render()}down(){this.cursor===this.choices.length-1?this.moveCursor(0):this.moveCursor(this.cursor+1),this.render()}next(){this.moveCursor((this.cursor+1)%this.choices.length),this.render()}_(t,e){if(t===" ")return this.submit()}get selection(){return this.choices[this.cursor]}render(){if(this.closed)return;this.firstRender?this.out.write(Xh.hide):this.out.write(Mr(this.outputText,this.out.columns)),super.render();let{startIndex:t,endIndex:e}=Zh(this.cursor,this.choices.length,this.optionsPerPage);if(this.outputText=[Tr.symbol(this.done,this.aborted),j.bold(this.msg),Tr.delimiter(!1),this.done?this.selection.title:this.selection.disabled?j.yellow(this.warn):j.gray(this.hint)].join(" "),!this.done){this.outputText+=`
`;for(let s=t;s<e;s++){let r,n,o="",h=this.choices[s];s===t&&t>0?n=Mt.arrowUp:s===e-1&&e<this.choices.length?n=Mt.arrowDown:n=" ",h.disabled?(r=this.cursor===s?j.gray().underline(h.title):j.strikethrough().gray(h.title),n=(this.cursor===s?j.bold().gray(Mt.pointer)+" ":"  ")+n):(r=this.cursor===s?j.cyan().underline(h.title):h.title,n=(this.cursor===s?j.cyan(Mt.pointer)+" ":"  ")+n,h.description&&this.cursor===s&&(o=` - ${h.description}`,(n.length+r.length+o.length>=this.out.columns||h.description.split(/\r?\n/).length>1)&&(o=`
`+Qh(h.description,{margin:3,width:this.out.columns})))),this.outputText+=`${n} ${r}${j.gray(o)}
`}}this.out.write(this.outputText)}};$r.exports=qe});var Dr=u((Bu,Ar)=>{"use strict";var $t=f(),tl=E(),{style:Cr,clear:el}=x(),{cursor:_r,erase:il}=m(),Oe=class extends tl{constructor(t={}){super(t),this.msg=t.message,this.value=!!t.initial,this.active=t.active||"on",this.inactive=t.inactive||"off",this.initialValue=this.value,this.render()}reset(){this.value=this.initialValue,this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}deactivate(){if(this.value===!1)return this.bell();this.value=!1,this.render()}activate(){if(this.value===!0)return this.bell();this.value=!0,this.render()}delete(){this.deactivate()}left(){this.deactivate()}right(){this.activate()}down(){this.deactivate()}up(){this.activate()}next(){this.value=!this.value,this.fire(),this.render()}_(t,e){if(t===" ")this.value=!this.value;else if(t==="1")this.value=!0;else if(t==="0")this.value=!1;else return this.bell();this.render()}render(){this.closed||(this.firstRender?this.out.write(_r.hide):this.out.write(el(this.outputText,this.out.columns)),super.render(),this.outputText=[Cr.symbol(this.done,this.aborted),$t.bold(this.msg),Cr.delimiter(this.done),this.value?this.inactive:$t.cyan().underline(this.inactive),$t.gray("/"),this.value?$t.cyan().underline(this.active):this.active].join(" "),this.out.write(il.line+_r.to(0)+this.outputText))}};Ar.exports=Oe});var M=u((Qu,kr)=>{"use strict";var Ie=class i{constructor({token:t,date:e,parts:s,locales:r}){this.token=t,this.date=e||new Date,this.parts=s||[this],this.locales=r||{}}up(){}down(){}next(){let t=this.parts.indexOf(this);return this.parts.find((e,s)=>s>t&&e instanceof i)}setTo(t){}prev(){let t=[].concat(this.parts).reverse(),e=t.indexOf(this);return t.find((s,r)=>r>e&&s instanceof i)}toString(){return String(this.date)}};kr.exports=Ie});var jr=u((Zu,Er)=>{"use strict";var sl=M(),Te=class extends sl{constructor(t={}){super(t)}up(){this.date.setHours((this.date.getHours()+12)%24)}down(){this.up()}toString(){let t=this.date.getHours()>12?"pm":"am";return/\A/.test(this.token)?t.toUpperCase():t}};Er.exports=Te});var Nr=u((Xu,Fr)=>{"use strict";var rl=M(),nl=i=>(i=i%10,i===1?"st":i===2?"nd":i===3?"rd":"th"),Me=class extends rl{constructor(t={}){super(t)}up(){this.date.setDate(this.date.getDate()+1)}down(){this.date.setDate(this.date.getDate()-1)}setTo(t){this.date.setDate(parseInt(t.substr(-2)))}toString(){let t=this.date.getDate(),e=this.date.getDay();return this.token==="DD"?String(t).padStart(2,"0"):this.token==="Do"?t+nl(t):this.token==="d"?e+1:this.token==="ddd"?this.locales.weekdaysShort[e]:this.token==="dddd"?this.locales.weekdays[e]:t}};Fr.exports=Me});var Vr=u((ta,Rr)=>{"use strict";var ol=M(),$e=class extends ol{constructor(t={}){super(t)}up(){this.date.setHours(this.date.getHours()+1)}down(){this.date.setHours(this.date.getHours()-1)}setTo(t){this.date.setHours(parseInt(t.substr(-2)))}toString(){let t=this.date.getHours();return/h/.test(this.token)&&(t=t%12||12),this.token.length>1?String(t).padStart(2,"0"):t}};Rr.exports=$e});var Yr=u((ea,Hr)=>{"use strict";var hl=M(),Pe=class extends hl{constructor(t={}){super(t)}up(){this.date.setMilliseconds(this.date.getMilliseconds()+1)}down(){this.date.setMilliseconds(this.date.getMilliseconds()-1)}setTo(t){this.date.setMilliseconds(parseInt(t.substr(-this.token.length)))}toString(){return String(this.date.getMilliseconds()).padStart(4,"0").substr(0,this.token.length)}};Hr.exports=Pe});var Lr=u((ia,Ur)=>{"use strict";var ll=M(),Ce=class extends ll{constructor(t={}){super(t)}up(){this.date.setMinutes(this.date.getMinutes()+1)}down(){this.date.setMinutes(this.date.getMinutes()-1)}setTo(t){this.date.setMinutes(parseInt(t.substr(-2)))}toString(){let t=this.date.getMinutes();return this.token.length>1?String(t).padStart(2,"0"):t}};Ur.exports=Ce});var Jr=u((sa,Kr)=>{"use strict";var ul=M(),_e=class extends ul{constructor(t={}){super(t)}up(){this.date.setMonth(this.date.getMonth()+1)}down(){this.date.setMonth(this.date.getMonth()-1)}setTo(t){t=parseInt(t.substr(-2))-1,this.date.setMonth(t<0?0:t)}toString(){let t=this.date.getMonth(),e=this.token.length;return e===2?String(t+1).padStart(2,"0"):e===3?this.locales.monthsShort[t]:e===4?this.locales.months[t]:String(t+1)}};Kr.exports=_e});var Wr=u((ra,Gr)=>{"use strict";var al=M(),Ae=class extends al{constructor(t={}){super(t)}up(){this.date.setSeconds(this.date.getSeconds()+1)}down(){this.date.setSeconds(this.date.getSeconds()-1)}setTo(t){this.date.setSeconds(parseInt(t.substr(-2)))}toString(){let t=this.date.getSeconds();return this.token.length>1?String(t).padStart(2,"0"):t}};Gr.exports=Ae});var Br=u((na,zr)=>{"use strict";var dl=M(),De=class extends dl{constructor(t={}){super(t)}up(){this.date.setFullYear(this.date.getFullYear()+1)}down(){this.date.setFullYear(this.date.getFullYear()-1)}setTo(t){this.date.setFullYear(t.substr(-4))}toString(){let t=String(this.date.getFullYear()).padStart(4,"0");return this.token.length===2?t.substr(-2):t}};zr.exports=De});var Zr=u((oa,Qr)=>{"use strict";Qr.exports={DatePart:M(),Meridiem:jr(),Day:Nr(),Hours:Vr(),Milliseconds:Yr(),Minutes:Lr(),Month:Jr(),Seconds:Wr(),Year:Br()}});var on=u((ha,nn)=>{"use strict";var ke=f(),cl=E(),{style:Xr,clear:tn,figures:fl}=x(),{erase:pl,cursor:en}=m(),{DatePart:sn,Meridiem:ml,Day:gl,Hours:vl,Milliseconds:bl,Minutes:wl,Month:yl,Seconds:xl,Year:Sl}=Zr(),ql=/\\(.)|"((?:\\["\\]|[^"])+)"|(D[Do]?|d{3,4}|d)|(M{1,4})|(YY(?:YY)?)|([aA])|([Hh]{1,2})|(m{1,2})|(s{1,2})|(S{1,4})|./g,rn={1:({token:i})=>i.replace(/\\(.)/g,"$1"),2:i=>new gl(i),3:i=>new yl(i),4:i=>new Sl(i),5:i=>new ml(i),6:i=>new vl(i),7:i=>new wl(i),8:i=>new xl(i),9:i=>new bl(i)},Ol={months:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),monthsShort:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),weekdays:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),weekdaysShort:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(",")},Ee=class extends cl{constructor(t={}){super(t),this.msg=t.message,this.cursor=0,this.typed="",this.locales=Object.assign(Ol,t.locales),this._date=t.initial||new Date,this.errorMsg=t.error||"Please Enter A Valid Value",this.validator=t.validate||(()=>!0),this.mask=t.mask||"YYYY-MM-DD HH:mm:ss",this.clear=tn("",this.out.columns),this.render()}get value(){return this.date}get date(){return this._date}set date(t){t&&this._date.setTime(t.getTime())}set mask(t){let e;for(this.parts=[];e=ql.exec(t);){let r=e.shift(),n=e.findIndex(o=>o!=null);this.parts.push(n in rn?rn[n]({token:e[n]||r,date:this.date,parts:this.parts,locales:this.locales}):e[n]||r)}let s=this.parts.reduce((r,n)=>(typeof n=="string"&&typeof r[r.length-1]=="string"?r[r.length-1]+=n:r.push(n),r),[]);this.parts.splice(0),this.parts.push(...s),this.reset()}moveCursor(t){this.typed="",this.cursor=t,this.fire()}reset(){this.moveCursor(this.parts.findIndex(t=>t instanceof sn)),this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.error=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}validate(){return g(this,null,function*(){let t=yield this.validator(this.value);typeof t=="string"&&(this.errorMsg=t,t=!1),this.error=!t})}submit(){return g(this,null,function*(){if(yield this.validate(),this.error){this.color="red",this.fire(),this.render();return}this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close()})}up(){this.typed="",this.parts[this.cursor].up(),this.render()}down(){this.typed="",this.parts[this.cursor].down(),this.render()}left(){let t=this.parts[this.cursor].prev();if(t==null)return this.bell();this.moveCursor(this.parts.indexOf(t)),this.render()}right(){let t=this.parts[this.cursor].next();if(t==null)return this.bell();this.moveCursor(this.parts.indexOf(t)),this.render()}next(){let t=this.parts[this.cursor].next();this.moveCursor(t?this.parts.indexOf(t):this.parts.findIndex(e=>e instanceof sn)),this.render()}_(t){/\d/.test(t)&&(this.typed+=t,this.parts[this.cursor].setTo(this.typed),this.render())}render(){this.closed||(this.firstRender?this.out.write(en.hide):this.out.write(tn(this.outputText,this.out.columns)),super.render(),this.outputText=[Xr.symbol(this.done,this.aborted),ke.bold(this.msg),Xr.delimiter(!1),this.parts.reduce((t,e,s)=>t.concat(s===this.cursor&&!this.done?ke.cyan().underline(e.toString()):e),[]).join("")].join(" "),this.error&&(this.outputText+=this.errorMsg.split(`
`).reduce((t,e,s)=>t+`
${s?" ":fl.pointerSmall} ${ke.red().italic(e)}`,"")),this.out.write(pl.line+en.to(0)+this.outputText))}};nn.exports=Ee});var an=u((ua,un)=>{"use strict";var Pt=f(),Il=E(),{cursor:Ct,erase:Tl}=m(),{style:je,figures:Ml,clear:hn,lines:$l}=x(),Pl=/[0-9]/,Fe=i=>i!==void 0,ln=(i,t)=>{let e=Math.pow(10,t);return Math.round(i*e)/e},Ne=class extends Il{constructor(t={}){super(t),this.transform=je.render(t.style),this.msg=t.message,this.initial=Fe(t.initial)?t.initial:"",this.float=!!t.float,this.round=t.round||2,this.inc=t.increment||1,this.min=Fe(t.min)?t.min:-1/0,this.max=Fe(t.max)?t.max:1/0,this.errorMsg=t.error||"Please Enter A Valid Value",this.validator=t.validate||(()=>!0),this.color="cyan",this.value="",this.typed="",this.lastHit=0,this.render()}set value(t){!t&&t!==0?(this.placeholder=!0,this.rendered=Pt.gray(this.transform.render(`${this.initial}`)),this._value=""):(this.placeholder=!1,this.rendered=this.transform.render(`${ln(t,this.round)}`),this._value=ln(t,this.round)),this.fire()}get value(){return this._value}parse(t){return this.float?parseFloat(t):parseInt(t)}valid(t){return t==="-"||t==="."&&this.float||Pl.test(t)}reset(){this.typed="",this.value="",this.fire(),this.render()}exit(){this.abort()}abort(){let t=this.value;this.value=t!==""?t:this.initial,this.done=this.aborted=!0,this.error=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}validate(){return g(this,null,function*(){let t=yield this.validator(this.value);typeof t=="string"&&(this.errorMsg=t,t=!1),this.error=!t})}submit(){return g(this,null,function*(){if(yield this.validate(),this.error){this.color="red",this.fire(),this.render();return}let t=this.value;this.value=t!==""?t:this.initial,this.done=!0,this.aborted=!1,this.error=!1,this.fire(),this.render(),this.out.write(`
`),this.close()})}up(){if(this.typed="",this.value===""&&(this.value=this.min-this.inc),this.value>=this.max)return this.bell();this.value+=this.inc,this.color="cyan",this.fire(),this.render()}down(){if(this.typed="",this.value===""&&(this.value=this.min+this.inc),this.value<=this.min)return this.bell();this.value-=this.inc,this.color="cyan",this.fire(),this.render()}delete(){let t=this.value.toString();if(t.length===0)return this.bell();this.value=this.parse(t=t.slice(0,-1))||"",this.value!==""&&this.value<this.min&&(this.value=this.min),this.color="cyan",this.fire(),this.render()}next(){this.value=this.initial,this.fire(),this.render()}_(t,e){if(!this.valid(t))return this.bell();let s=Date.now();if(s-this.lastHit>1e3&&(this.typed=""),this.typed+=t,this.lastHit=s,this.color="cyan",t===".")return this.fire();this.value=Math.min(this.parse(this.typed),this.max),this.value>this.max&&(this.value=this.max),this.value<this.min&&(this.value=this.min),this.fire(),this.render()}render(){this.closed||(this.firstRender||(this.outputError&&this.out.write(Ct.down($l(this.outputError,this.out.columns)-1)+hn(this.outputError,this.out.columns)),this.out.write(hn(this.outputText,this.out.columns))),super.render(),this.outputError="",this.outputText=[je.symbol(this.done,this.aborted),Pt.bold(this.msg),je.delimiter(this.done),!this.done||!this.done&&!this.placeholder?Pt[this.color]().underline(this.rendered):this.rendered].join(" "),this.error&&(this.outputError+=this.errorMsg.split(`
`).reduce((t,e,s)=>t+`
${s?" ":Ml.pointerSmall} ${Pt.red().italic(e)}`,"")),this.out.write(Tl.line+Ct.to(0)+this.outputText+Ct.save+this.outputError+Ct.restore))}};un.exports=Ne});var Ve=u((da,fn)=>{"use strict";var $=f(),{cursor:Cl}=m(),_l=E(),{clear:dn,figures:H,style:cn,wrap:Al,entriesToDisplay:Dl}=x(),Re=class extends _l{constructor(t={}){super(t),this.msg=t.message,this.cursor=t.cursor||0,this.scrollIndex=t.cursor||0,this.hint=t.hint||"",this.warn=t.warn||"- This option is disabled -",this.minSelected=t.min,this.showMinError=!1,this.maxChoices=t.max,this.instructions=t.instructions,this.optionsPerPage=t.optionsPerPage||10,this.value=t.choices.map((e,s)=>(typeof e=="string"&&(e={title:e,value:s}),{title:e&&(e.title||e.value||e),description:e&&e.description,value:e&&(e.value===void 0?s:e.value),selected:e&&e.selected,disabled:e&&e.disabled})),this.clear=dn("",this.out.columns),t.overrideRender||this.render()}reset(){this.value.map(t=>!t.selected),this.cursor=0,this.fire(),this.render()}selected(){return this.value.filter(t=>t.selected)}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){let t=this.value.filter(e=>e.selected);this.minSelected&&t.length<this.minSelected?(this.showMinError=!0,this.render()):(this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close())}first(){this.cursor=0,this.render()}last(){this.cursor=this.value.length-1,this.render()}next(){this.cursor=(this.cursor+1)%this.value.length,this.render()}up(){this.cursor===0?this.cursor=this.value.length-1:this.cursor--,this.render()}down(){this.cursor===this.value.length-1?this.cursor=0:this.cursor++,this.render()}left(){this.value[this.cursor].selected=!1,this.render()}right(){if(this.value.filter(t=>t.selected).length>=this.maxChoices)return this.bell();this.value[this.cursor].selected=!0,this.render()}handleSpaceToggle(){let t=this.value[this.cursor];if(t.selected)t.selected=!1,this.render();else{if(t.disabled||this.value.filter(e=>e.selected).length>=this.maxChoices)return this.bell();t.selected=!0,this.render()}}toggleAll(){if(this.maxChoices!==void 0||this.value[this.cursor].disabled)return this.bell();let t=!this.value[this.cursor].selected;this.value.filter(e=>!e.disabled).forEach(e=>e.selected=t),this.render()}_(t,e){if(t===" ")this.handleSpaceToggle();else if(t==="a")this.toggleAll();else return this.bell()}renderInstructions(){return this.instructions===void 0||this.instructions?typeof this.instructions=="string"?this.instructions:`
Instructions:
    ${H.arrowUp}/${H.arrowDown}: Highlight option
    ${H.arrowLeft}/${H.arrowRight}/[space]: Toggle selection
`+(this.maxChoices===void 0?`    a: Toggle all
`:"")+"    enter/return: Complete answer":""}renderOption(t,e,s,r){let n=(e.selected?$.green(H.radioOn):H.radioOff)+" "+r+" ",o,h;return e.disabled?o=t===s?$.gray().underline(e.title):$.strikethrough().gray(e.title):(o=t===s?$.cyan().underline(e.title):e.title,t===s&&e.description&&(h=` - ${e.description}`,(n.length+o.length+h.length>=this.out.columns||e.description.split(/\r?\n/).length>1)&&(h=`
`+Al(e.description,{margin:n.length,width:this.out.columns})))),n+o+$.gray(h||"")}paginateOptions(t){if(t.length===0)return $.red("No matches for this query.");let{startIndex:e,endIndex:s}=Dl(this.cursor,t.length,this.optionsPerPage),r,n=[];for(let o=e;o<s;o++)o===e&&e>0?r=H.arrowUp:o===s-1&&s<t.length?r=H.arrowDown:r=" ",n.push(this.renderOption(this.cursor,t[o],o,r));return`
`+n.join(`
`)}renderOptions(t){return this.done?"":this.paginateOptions(t)}renderDoneOrInstructions(){if(this.done)return this.value.filter(e=>e.selected).map(e=>e.title).join(", ");let t=[$.gray(this.hint),this.renderInstructions()];return this.value[this.cursor].disabled&&t.push($.yellow(this.warn)),t.join(" ")}render(){if(this.closed)return;this.firstRender&&this.out.write(Cl.hide),super.render();let t=[cn.symbol(this.done,this.aborted),$.bold(this.msg),cn.delimiter(!1),this.renderDoneOrInstructions()].join(" ");this.showMinError&&(t+=$.red(`You must select a minimum of ${this.minSelected} choices.`),this.showMinError=!1),t+=this.renderOptions(this.value),this.out.write(this.clear+t),this.clear=dn(t,this.out.columns)}};fn.exports=Re});var bn=u((ca,vn)=>{"use strict";var at=f(),kl=E(),{erase:El,cursor:pn}=m(),{style:He,clear:mn,figures:Ye,wrap:jl,entriesToDisplay:Fl}=x(),gn=(i,t)=>i[t]&&(i[t].value||i[t].title||i[t]),Nl=(i,t)=>i[t]&&(i[t].title||i[t].value||i[t]),Rl=(i,t)=>{let e=i.findIndex(s=>s.value===t||s.title===t);return e>-1?e:void 0},Ue=class extends kl{constructor(t={}){super(t),this.msg=t.message,this.suggest=t.suggest,this.choices=t.choices,this.initial=typeof t.initial=="number"?t.initial:Rl(t.choices,t.initial),this.select=this.initial||t.cursor||0,this.i18n={noMatches:t.noMatches||"no matches found"},this.fallback=t.fallback||this.initial,this.clearFirst=t.clearFirst||!1,this.suggestions=[],this.input="",this.limit=t.limit||10,this.cursor=0,this.transform=He.render(t.style),this.scale=this.transform.scale,this.render=this.render.bind(this),this.complete=this.complete.bind(this),this.clear=mn("",this.out.columns),this.complete(this.render),this.render()}set fallback(t){this._fb=Number.isSafeInteger(parseInt(t))?parseInt(t):t}get fallback(){let t;return typeof this._fb=="number"?t=this.choices[this._fb]:typeof this._fb=="string"&&(t={title:this._fb}),t||this._fb||{title:this.i18n.noMatches}}moveSelect(t){this.select=t,this.suggestions.length>0?this.value=gn(this.suggestions,t):this.value=this.fallback.value,this.fire()}complete(t){return g(this,null,function*(){let e=this.completing=this.suggest(this.input,this.choices),s=yield e;if(this.completing!==e)return;this.suggestions=s.map((n,o,h)=>({title:Nl(h,o),value:gn(h,o),description:n.description})),this.completing=!1;let r=Math.max(s.length-1,0);this.moveSelect(Math.min(r,this.select)),t&&t()})}reset(){this.input="",this.complete(()=>{this.moveSelect(this.initial!==void 0?this.initial:0),this.render()}),this.render()}exit(){this.clearFirst&&this.input.length>0?this.reset():(this.done=this.exited=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close())}abort(){this.done=this.aborted=!0,this.exited=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.done=!0,this.aborted=this.exited=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}_(t,e){let s=this.input.slice(0,this.cursor),r=this.input.slice(this.cursor);this.input=`${s}${t}${r}`,this.cursor=s.length+1,this.complete(this.render),this.render()}delete(){if(this.cursor===0)return this.bell();let t=this.input.slice(0,this.cursor-1),e=this.input.slice(this.cursor);this.input=`${t}${e}`,this.complete(this.render),this.cursor=this.cursor-1,this.render()}deleteForward(){if(this.cursor*this.scale>=this.rendered.length)return this.bell();let t=this.input.slice(0,this.cursor),e=this.input.slice(this.cursor+1);this.input=`${t}${e}`,this.complete(this.render),this.render()}first(){this.moveSelect(0),this.render()}last(){this.moveSelect(this.suggestions.length-1),this.render()}up(){this.select===0?this.moveSelect(this.suggestions.length-1):this.moveSelect(this.select-1),this.render()}down(){this.select===this.suggestions.length-1?this.moveSelect(0):this.moveSelect(this.select+1),this.render()}next(){this.select===this.suggestions.length-1?this.moveSelect(0):this.moveSelect(this.select+1),this.render()}nextPage(){this.moveSelect(Math.min(this.select+this.limit,this.suggestions.length-1)),this.render()}prevPage(){this.moveSelect(Math.max(this.select-this.limit,0)),this.render()}left(){if(this.cursor<=0)return this.bell();this.cursor=this.cursor-1,this.render()}right(){if(this.cursor*this.scale>=this.rendered.length)return this.bell();this.cursor=this.cursor+1,this.render()}renderOption(t,e,s,r){let n,o=s?Ye.arrowUp:r?Ye.arrowDown:" ",h=e?at.cyan().underline(t.title):t.title;return o=(e?at.cyan(Ye.pointer)+" ":"  ")+o,t.description&&(n=` - ${t.description}`,(o.length+h.length+n.length>=this.out.columns||t.description.split(/\r?\n/).length>1)&&(n=`
`+jl(t.description,{margin:3,width:this.out.columns}))),o+" "+h+at.gray(n||"")}render(){if(this.closed)return;this.firstRender?this.out.write(pn.hide):this.out.write(mn(this.outputText,this.out.columns)),super.render();let{startIndex:t,endIndex:e}=Fl(this.select,this.choices.length,this.limit);if(this.outputText=[He.symbol(this.done,this.aborted,this.exited),at.bold(this.msg),He.delimiter(this.completing),this.done&&this.suggestions[this.select]?this.suggestions[this.select].title:this.rendered=this.transform.render(this.input)].join(" "),!this.done){let s=this.suggestions.slice(t,e).map((r,n)=>this.renderOption(r,this.select===n+t,n===0&&t>0,n+t===e-1&&e<this.choices.length)).join(`
`);this.outputText+=`
`+(s||at.gray(this.fallback.title))}this.out.write(El.line+pn.to(0)+this.outputText)}};vn.exports=Ue});var Sn=u((pa,xn)=>{"use strict";var F=f(),{cursor:Vl}=m(),Hl=Ve(),{clear:wn,style:yn,figures:z}=x(),Le=class extends Hl{constructor(t={}){t.overrideRender=!0,super(t),this.inputValue="",this.clear=wn("",this.out.columns),this.filteredOptions=this.value,this.render()}last(){this.cursor=this.filteredOptions.length-1,this.render()}next(){this.cursor=(this.cursor+1)%this.filteredOptions.length,this.render()}up(){this.cursor===0?this.cursor=this.filteredOptions.length-1:this.cursor--,this.render()}down(){this.cursor===this.filteredOptions.length-1?this.cursor=0:this.cursor++,this.render()}left(){this.filteredOptions[this.cursor].selected=!1,this.render()}right(){if(this.value.filter(t=>t.selected).length>=this.maxChoices)return this.bell();this.filteredOptions[this.cursor].selected=!0,this.render()}delete(){this.inputValue.length&&(this.inputValue=this.inputValue.substr(0,this.inputValue.length-1),this.updateFilteredOptions())}updateFilteredOptions(){let t=this.filteredOptions[this.cursor];this.filteredOptions=this.value.filter(s=>this.inputValue?!!(typeof s.title=="string"&&s.title.toLowerCase().includes(this.inputValue.toLowerCase())||typeof s.value=="string"&&s.value.toLowerCase().includes(this.inputValue.toLowerCase())):!0);let e=this.filteredOptions.findIndex(s=>s===t);this.cursor=e<0?0:e,this.render()}handleSpaceToggle(){let t=this.filteredOptions[this.cursor];if(t.selected)t.selected=!1,this.render();else{if(t.disabled||this.value.filter(e=>e.selected).length>=this.maxChoices)return this.bell();t.selected=!0,this.render()}}handleInputChange(t){this.inputValue=this.inputValue+t,this.updateFilteredOptions()}_(t,e){t===" "?this.handleSpaceToggle():this.handleInputChange(t)}renderInstructions(){return this.instructions===void 0||this.instructions?typeof this.instructions=="string"?this.instructions:`
Instructions:
    ${z.arrowUp}/${z.arrowDown}: Highlight option
    ${z.arrowLeft}/${z.arrowRight}/[space]: Toggle selection
    [a,b,c]/delete: Filter choices
    enter/return: Complete answer
`:""}renderCurrentInput(){return`
Filtered results for: ${this.inputValue?this.inputValue:F.gray("Enter something to filter")}
`}renderOption(t,e,s){let r;return e.disabled?r=t===s?F.gray().underline(e.title):F.strikethrough().gray(e.title):r=t===s?F.cyan().underline(e.title):e.title,(e.selected?F.green(z.radioOn):z.radioOff)+"  "+r}renderDoneOrInstructions(){if(this.done)return this.value.filter(e=>e.selected).map(e=>e.title).join(", ");let t=[F.gray(this.hint),this.renderInstructions(),this.renderCurrentInput()];return this.filteredOptions.length&&this.filteredOptions[this.cursor].disabled&&t.push(F.yellow(this.warn)),t.join(" ")}render(){if(this.closed)return;this.firstRender&&this.out.write(Vl.hide),super.render();let t=[yn.symbol(this.done,this.aborted),F.bold(this.msg),yn.delimiter(!1),this.renderDoneOrInstructions()].join(" ");this.showMinError&&(t+=F.red(`You must select a minimum of ${this.minSelected} choices.`),this.showMinError=!1),t+=this.renderOptions(this.filteredOptions),this.out.write(this.clear+t),this.clear=wn(t,this.out.columns)}};xn.exports=Le});var Mn=u((ma,Tn)=>{"use strict";var qn=f(),Yl=E(),{style:On,clear:Ul}=x(),{erase:Ll,cursor:In}=m(),Ke=class extends Yl{constructor(t={}){super(t),this.msg=t.message,this.value=t.initial,this.initialValue=!!t.initial,this.yesMsg=t.yes||"yes",this.yesOption=t.yesOption||"(Y/n)",this.noMsg=t.no||"no",this.noOption=t.noOption||"(y/N)",this.render()}reset(){this.value=this.initialValue,this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.value=this.value||!1,this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}_(t,e){return t.toLowerCase()==="y"?(this.value=!0,this.submit()):t.toLowerCase()==="n"?(this.value=!1,this.submit()):this.bell()}render(){this.closed||(this.firstRender?this.out.write(In.hide):this.out.write(Ul(this.outputText,this.out.columns)),super.render(),this.outputText=[On.symbol(this.done,this.aborted),qn.bold(this.msg),On.delimiter(this.done),this.done?this.value?this.yesMsg:this.noMsg:qn.gray(this.initialValue?this.yesOption:this.noOption)].join(" "),this.out.write(Ll.line+In.to(0)+this.outputText))}};Tn.exports=Ke});var Pn=u((ga,$n)=>{"use strict";$n.exports={TextPrompt:Ir(),SelectPrompt:Pr(),TogglePrompt:Dr(),DatePrompt:on(),NumberPrompt:an(),MultiselectPrompt:Ve(),AutocompletePrompt:bn(),AutocompleteMultiselectPrompt:Sn(),ConfirmPrompt:Mn()}});var _n=u(Cn=>{"use strict";var w=Cn,Kl=Pn(),_t=i=>i;function P(i,t,e={}){return new Promise((s,r)=>{let n=new Kl[i](t),o=e.onAbort||_t,h=e.onSubmit||_t,l=e.onExit||_t;n.on("state",t.onState||_t),n.on("submit",a=>s(h(a))),n.on("exit",a=>s(l(a))),n.on("abort",a=>r(o(a)))})}w.text=i=>P("TextPrompt",i);w.password=i=>(i.style="password",w.text(i));w.invisible=i=>(i.style="invisible",w.text(i));w.number=i=>P("NumberPrompt",i);w.date=i=>P("DatePrompt",i);w.confirm=i=>P("ConfirmPrompt",i);w.list=i=>{let t=i.separator||",";return P("TextPrompt",i,{onSubmit:e=>e.split(t).map(s=>s.trim())})};w.toggle=i=>P("TogglePrompt",i);w.select=i=>P("SelectPrompt",i);w.multiselect=i=>{i.choices=[].concat(i.choices||[]);let t=e=>e.filter(s=>s.selected).map(s=>s.value);return P("MultiselectPrompt",i,{onAbort:t,onSubmit:t})};w.autocompleteMultiselect=i=>{i.choices=[].concat(i.choices||[]);let t=e=>e.filter(s=>s.selected).map(s=>s.value);return P("AutocompleteMultiselectPrompt",i,{onAbort:t,onSubmit:t})};var Jl=(i,t)=>Promise.resolve(t.filter(e=>e.title.slice(0,i.length).toLowerCase()===i.toLowerCase()));w.autocomplete=i=>(i.suggest=i.suggest||Jl,i.choices=[].concat(i.choices||[]),P("AutocompletePrompt",i))});var kn=u((ba,Dn)=>{"use strict";var Je=_n(),Gl=["suggest","format","onState","validate","onRender","type"],An=()=>{};function Y(){return g(this,arguments,function*(i=[],{onSubmit:t=An,onCancel:e=An}={}){let s={},r=Y._override||{};i=[].concat(i);let n,o,h,l,a,B,Q=(v,S,ft=!1)=>g(null,null,function*(){if(!(!ft&&v.validate&&v.validate(S)!==!0))return v.format?yield v.format(S,s):S});for(o of i)if({name:l,type:a}=o,typeof a=="function"&&(a=yield a(n,Dt({},s),o),o.type=a),!!a){for(let v in o){if(Gl.includes(v))continue;let S=o[v];o[v]=typeof S=="function"?yield S(n,Dt({},s),B):S}if(B=o,typeof o.message!="string")throw new Error("prompt message is required");if({name:l,type:a}=o,Je[a]===void 0)throw new Error(`prompt type (${a}) is not defined`);if(r[o.name]!==void 0&&(n=yield Q(o,r[o.name]),n!==void 0)){s[l]=n;continue}try{n=Y._injected?Wl(Y._injected,o.initial):yield Je[a](o),s[l]=n=yield Q(o,n,!0),h=yield t(o,n,s)}catch(v){h=!(yield e(o,s))}if(h)return s}return s})}function Wl(i,t){let e=i.shift();if(e instanceof Error)throw e;return e===void 0?t:e}function zl(i){Y._injected=(Y._injected||[]).concat(i)}function Bl(i){Y._override=Object.assign({},i)}Dn.exports=Object.assign(Y,{prompt:Y,prompts:Je,inject:zl,override:Bl})});var jn=u((ya,En)=>{"use strict";function Ql(i){i=(Array.isArray(i)?i:i.split(".")).map(Number);let t=0,e=process.versions.node.split(".").map(Number);for(;t<i.length;t++){if(e[t]>i[t])return!1;if(i[t]>e[t])return!0}return!1}En.exports=Ql("8.6.0")?nr():kn()});var Zl={};Ln(Zl,{runCreateVulcanWorkflow:()=>Nn});module.exports=Kn(Zl);var Ge=kt(require("fs"));var q={VulcanAdapterInstance:"./src/Mercury/Risk/UnifiedQueue/Adapter/Instance/",VulcanAdapterClass:"./src/Mercury/Risk/UnifiedQueue/Adapter/Class.hs",NativeItemKindsPath:"./src/Model/UnifiedQueue/NativeItemKinds.hs"},ti="ItemType",ei="deriving stock",ii=2,Et="(deriveJSONAndTypeScript mercuryDefaultOptions";var mt=i=>typeof i!="string"||i.length===0?i:i.charAt(0).toUpperCase()+i.slice(1),Jn=(i,t)=>{for(let e=i.length-1;e>=0;e--)if(t(i[e]))return e;return-1},si=(i,t,e)=>{let s=i.findIndex(r=>r.trim().startsWith(e));if(s===-1)return s;for(let r=s+1;r<i.length;r++)if(i[r].trim().startsWith(t))return r;return-1},ri=(i,t,e)=>{let s=i.split(`
`),r=s.findIndex(o=>o.trim().startsWith(`data ${t}`));if(r===-1)throw Error(`\u274C Could not find data type: ${t}`);let n=r+1;for(;n<s.length&&(s[n].trim().startsWith("|")||s[n].trim().startsWith("="));)n++;return s.splice(n,0,`  | ${e}`),s.join(`
`)},ni=(i,t,e)=>{let s=i.split(`
`),r=Jn(s,n=>n.trim().startsWith(t));if(r===-1)throw Error(`\u274C Could not find target string: ${t}`);return s.splice(r+1,0,...e.map(n=>`  ${n}`)),s},X=(i=1)=>new Array(ii*i).fill(" ").join("");var Fn=kt(jn());var K=class{constructor(t){this.prompts=[];this.artifacts={};this.artifacts=t||{}}execute(){return g(this,null,function*(){var t;for(let e of this.prompts)yield this.processPrompt(e),(t=e.handler)==null||t.call(e);return this.artifacts})}processPrompt(t){return g(this,null,function*(){let s=(yield(0,Fn.default)({type:t.type,name:t.id,message:t.message}))[t.id].trim();if(s!==":exit"){if(t.required&&s===void 0)throw new Error(`No response provided for prompt: ${t.id}`);if(typeof s!="string")throw new Error(`Response for prompt ${t.id} is not a string: ${typeof s}`);s!=="q"&&(t.answer=(t.answer?"|||":"")+s,t.recursive&&(yield this.processPrompt(t)))}})}getWorkflowName(){return this.artifacts.workflowName||""}};var dt=class extends K{constructor(){super(...arguments);this.updatedContent=[];this.fileContent="";this.promptOne={id:"native-item-kinds",message:"Native item kinds for your vulcan workflow? (format: name - description. enter 'q' to finish)",type:"text",handler:()=>this.stepHandlers(),recursive:!0};this.prompts=[this.promptOne]}stepHandlers(){this.loadFileContent(),this.createNativeItemKinds(),this.generateJSONAndTypescriptForNativeItemKinds(),this.writeUpdatedContentToFile(),this.logger().nativeItemKindsAdded()}generateJSONAndTypescriptForNativeItemKinds(){if(this.JSONAndTypescriptAlreadyGenerated())return;let e=si(this.updatedContent,"]",Et);if(e===-1)throw new Error(`Target marker "${Et}" not found in file.`);this.updatedContent.splice(e,0,`${X(1)}, ''${this.getDataTypeName()}`)}writeUpdatedContentToFile(){Ge.default.writeFileSync(q.NativeItemKindsPath,this.updatedContent.join(`
`))}createNativeItemKinds(){var r;let e=(r=this.promptOne.answer)==null?void 0:r.split("|||");if(!e||e.length===0)throw new Error("No native item kinds provided.");if(this.nativeItemKindAlreadyCreated())return;let s=this.constructNativeItemKindsString(e);this.updatedContent=ni(this.fileContent,ei,s)}getDataTypeName(){return this.getWorkflowName()+ti}constructNativeItemKindsString(e){let s=[`
data ${this.getDataTypeName()}`],r=0;for(let n of e){let[o,h]=n.split(" - ").map(l=>mt(l.trim()));if(!o||!h)throw new Error(`Invalid format for native item kind: "${n}". Expected format: "name - description".`);s.push(`${X(1)}${r===0?"=":"|"} -- | ${h}`),s.push(`${X(2)}${o}`),s.push(`${X(1)}deriving stock (Show, Eq, Ord)`),r++}return s}nativeItemKindAlreadyCreated(){let e=`data ${this.getDataTypeName()}`;return this.fileContent.includes(e)}loadFileContent(){this.fileContent=Ge.default.readFileSync(q.NativeItemKindsPath,"utf-8"),this.updatedContent=this.fileContent.split(`
`)}JSONAndTypescriptAlreadyGenerated(){let e=`''${this.getDataTypeName()}`;return this.fileContent.includes(e)}logger(){return{nativeItemKindsAdded:()=>console.log(`\u{1F680} Updated NativeItemKinds with new kinds in file ${q.NativeItemKindsPath}`)}}};var At=kt(require("fs"));var ct=class extends K{constructor(){super(...arguments);this.promptOne={id:"workflow-name",message:"What is the name of your vulcan workflow?",type:"text",handler:()=>this.stepHandlers()};this.prompts=[this.promptOne]}stepHandlers(){this.workflowNameRecieved(),this.registerUnifiedQueueSubsystem()}workflowNameRecieved(){this.createVulcanAdpaterInstanceFile(),this.artifacts.workflowName=this.workflowName(),this.logger().adapterFileCreated()}registerUnifiedQueueSubsystem(){let e=At.default.readFileSync(q.VulcanAdapterClass,"utf-8"),s=this.subsystemName();if(!e.includes(s)){let r=ri(e,"UnifiedQueueSubsystem",s);At.default.writeFileSync(q.VulcanAdapterClass,r),this.artifacts.unifiedQueueSubsystemName=s}this.logger().subsystemAdded()}logger(){return{adapterFileCreated:()=>console.log("\u{1F680} Adpater instance file created at: ",q.VulcanAdapterInstance),subsystemAdded:()=>console.log(`\u{1F680} Updated UnifiedQueueSubsystem with new subsystem: UnifiedQueue${this.workflowName()}Subsystem in file ${q.VulcanAdapterClass}`)}}subsystemName(){return`UnifiedQueue${this.workflowName()}Subsystem`}workflowName(){if(!this.promptOne.answer)throw new Error("Workflow name has not been set.");return mt(this.promptOne.answer)}createVulcanAdpaterInstanceFile(){At.default.writeFileSync(this.vulcanInstanceFilePath(),"")}vulcanInstanceFilePath(){return`${q.VulcanAdapterInstance}${this.workflowName()}.hs`}};function Nn(){return g(this,null,function*(){let i={artifacts:{}},t=[ct,dt];for(let e of t){let s=new e(i.artifacts);i.artifacts=yield s.execute()}})}Nn();0&&(module.exports={runCreateVulcanWorkflow});
//# sourceMappingURL=index.js.map